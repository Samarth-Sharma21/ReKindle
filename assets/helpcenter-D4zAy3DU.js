import{r as s,j as e,B as c,g as r,P as v,d as i,N as z,m as k,aj as M,ak as F,al as W,am as $,an as O,I as w,h as U,u as Y,i as A}from"./index-7zbgi2qQ.js";import{A as q}from"./ArrowBack-c1su4zvR.js";import{L as B}from"./LocationOn-C8IIlvBM.js";import{P as J}from"./People-DYlJNTcD.js";import{S as E}from"./Share-CWjjelbT.js";import{N as K,T as Q,a as I,E as V}from"./EmergencyContact-CGbXnCmP.js";import{B as X}from"./BreathingExercise-BwLLzwqc.js";import{H as T}from"./Home-BZxA0V-h.js";import{D as Z}from"./Delete-BrPxrsmS.js";import{A as _}from"./Add-jpXRy77u.js";import{M as ee}from"./MyLocation-Bl-wM_tn.js";import{A as S}from"./Alert-BRbQA1fK.js";import{T as te}from"./TextField-CCuzYXtS.js";import{S as re}from"./Snackbar-BzNAqPSb.js";import{C as oe}from"./Container-DZq_lvjJ.js";import{G as L}from"./Grid-1SM4JlKV.js";import"./Phone-CkSYKQac.js";import"./Edit-CZNxsY8v.js";import"./DialogTitle-DloplamJ.js";import"./useFormControl-CcItWjiD.js";const se=()=>{const[a,l]=s.useState(null),[g,d]=s.useState(!1),[p,m]=s.useState(""),[n,y]=s.useState([{id:1,name:"Home",address:"123 Main Street, Anytown, USA",isHome:!0},{id:2,name:"Doctor's Office",address:"456 Medical Plaza, Anytown, USA",isHome:!1},{id:3,name:"Favorite Park",address:"789 Green Avenue, Anytown, USA",isHome:!1}]),[x,f]=s.useState(""),[C,h]=s.useState(!1),[j,b]=s.useState({open:!1,message:"",severity:"success"}),N=()=>{if(!navigator.geolocation){m("Geolocation is not supported by your browser");return}d(!0),m(""),navigator.geolocation.getCurrentPosition(async t=>{try{l({lat:t.coords.latitude,lng:t.coords.longitude,address:"Current location (coordinates available)"}),d(!1),u("Location successfully detected","success")}catch{m("Error getting address from coordinates"),d(!1)}},t=>{m(`Error getting location: ${t.message}`),d(!1)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:1e4})},P=()=>{if(!a||!x.trim()){u("Please provide a name for this location","error");return}const t={id:Date.now(),name:x,address:a.address,lat:a.lat,lng:a.lng,isHome:!1};y([...n,t]),f(""),h(!1),u("Location saved successfully","success")},G=t=>{y(n.map(o=>({...o,isHome:o.id===t}))),u("Home location updated","success")},R=t=>{y(n.filter(o=>o.id!==t)),u("Location deleted","success")},D=async t=>{if(navigator.share)try{await navigator.share({title:`Location: ${t.name}`,text:`Here's my location: ${t.address}`,url:`https://maps.google.com/?q=${t.address}`})}catch(o){console.error("Error sharing:",o)}else navigator.clipboard.writeText(`${t.name}: ${t.address}`),u("Location copied to clipboard","success")},u=(t,o)=>{b({open:!0,message:t,severity:o})},H=()=>{b({...j,open:!1})};return e.jsxs(c,{sx:{width:"100%"},children:[e.jsx(r,{variant:"h4",component:"h2",gutterBottom:!0,children:"Location Tracker"}),e.jsxs(v,{elevation:3,sx:{p:3,mb:4,borderRadius:2},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Current Location"}),e.jsxs(c,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(i,{variant:"contained",color:"primary",startIcon:e.jsx(ee,{}),onClick:N,disabled:g,sx:{mr:2},children:g?"Detecting...":"Get My Location"}),g&&e.jsx(z,{size:24,sx:{ml:1}})]}),p&&e.jsx(S,{severity:"error",sx:{mb:2},children:p}),a&&e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(v,{variant:"outlined",sx:{p:2,mb:2},children:[e.jsxs(r,{variant:"body1",children:[e.jsx(B,{color:"primary",sx:{verticalAlign:"middle",mr:1}}),a.address]}),C?e.jsxs(c,{sx:{mt:2,display:"flex",alignItems:"flex-end"},children:[e.jsx(te,{label:"Location Name",variant:"outlined",size:"small",value:x,onChange:t=>f(t.target.value),sx:{mr:2,flexGrow:1}}),e.jsx(i,{variant:"contained",color:"primary",onClick:P,disabled:!x.trim(),children:"Save"}),e.jsx(i,{variant:"text",onClick:()=>h(!1),sx:{ml:1},children:"Cancel"})]}):e.jsx(i,{startIcon:e.jsx(_,{}),onClick:()=>h(!0),sx:{mt:2},children:"Save This Location"})]})})]}),e.jsxs(v,{elevation:3,sx:{p:3,borderRadius:2},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Saved Locations"}),n.length===0?e.jsx(r,{variant:"body1",color:"text.secondary",sx:{py:2},children:'No saved locations yet. Use the "Get My Location" button above to add locations.'}):e.jsx(M,{children:n.map((t,o)=>e.jsxs(k.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:o*.1},children:[e.jsxs(F,{sx:{bgcolor:t.isHome?"rgba(106, 90, 205, 0.1)":"transparent",borderRadius:1},children:[e.jsx(W,{children:t.isHome?e.jsx(T,{color:"primary"}):e.jsx(B,{color:"secondary"})}),e.jsx($,{primary:t.name,secondary:t.address,primaryTypographyProps:{fontWeight:t.isHome?"bold":"normal"}}),e.jsxs(O,{children:[e.jsx(Tooltip,{title:"Share Location",children:e.jsx(w,{edge:"end",onClick:()=>D(t),children:e.jsx(E,{})})}),!t.isHome&&e.jsx(Tooltip,{title:"Set as Home",children:e.jsx(w,{edge:"end",onClick:()=>G(t.id),children:e.jsx(T,{})})}),e.jsx(Tooltip,{title:"Delete Location",children:e.jsx(w,{edge:"end",onClick:()=>R(t.id),children:e.jsx(Z,{})})})]})]}),o<n.length-1&&e.jsx(U,{variant:"inset",component:"li"})]},t.id))})]}),e.jsx(re,{open:j.open,autoHideDuration:4e3,onClose:H,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(S,{onClose:H,severity:j.severity,sx:{width:"100%"},children:j.message})})]})},we=()=>{const a=Y(),[l,g]=s.useState(0),[d,p]=s.useState(!1),[m,n]=s.useState(!1),y=()=>{a(-1)},x=(j,b)=>{g(b)},f=()=>{p(!0),setTimeout(()=>{p(!1)},5e3)},C=()=>{n(!0),setTimeout(()=>{n(!1)},5e3)},h=()=>{a("/breathing-game")};return e.jsx(oe,{maxWidth:"md",sx:{mt:2,mb:4},children:e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},style:{width:"100%"},children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",mb:4},children:[e.jsx(i,{startIcon:e.jsx(q,{}),onClick:y,sx:{mr:2},children:"Back"}),e.jsx(r,{variant:"h4",component:"h1",children:"Help Center"})]}),e.jsxs(v,{elevation:3,sx:{p:3,mb:4,borderRadius:3,background:"linear-gradient(90deg, #f8bbd0 0%, #e91e63 100%)",color:"white"},children:[e.jsx(r,{variant:"h5",gutterBottom:!0,children:"Need Immediate Help?"}),e.jsx(r,{variant:"body1",paragraph:!0,children:"Use these quick actions to get help right away or to calm yourself during a moment of anxiety."}),e.jsxs(L,{container:!0,spacing:2,children:[e.jsx(L,{item:!0,xs:12,sm:4,children:e.jsx(i,{variant:"contained",fullWidth:!0,size:"large",color:"secondary",startIcon:e.jsx(E,{}),onClick:f,sx:{py:1.5,borderRadius:2},children:"Share My Location"})}),e.jsx(L,{item:!0,xs:12,sm:4,children:e.jsx(i,{variant:"contained",fullWidth:!0,size:"large",color:"error",startIcon:e.jsx(K,{}),onClick:C,sx:{py:1.5,borderRadius:2},children:"Alert Emergency Contacts"})}),e.jsx(L,{item:!0,xs:12,sm:4,children:e.jsx(i,{variant:"contained",fullWidth:!0,size:"large",color:"info",startIcon:e.jsx(A,{}),onClick:h,sx:{py:1.5,borderRadius:2},children:"Breathing Exercise"})})]}),d&&e.jsx(S,{severity:"success",sx:{mt:2},children:"Your location has been shared with your emergency contacts."}),m&&e.jsx(S,{severity:"info",sx:{mt:2},children:"Emergency alert has been sent to your contacts. They will contact you shortly."})]}),e.jsxs(v,{elevation:2,sx:{borderRadius:3,overflow:"hidden"},children:[e.jsxs(Q,{value:l,onChange:x,variant:"fullWidth",sx:{borderBottom:1,borderColor:"divider"},children:[e.jsx(I,{icon:e.jsx(B,{}),label:"Location Sharing",iconPosition:"start"}),e.jsx(I,{icon:e.jsx(J,{}),label:"Emergency Contacts",iconPosition:"start"}),e.jsx(I,{icon:e.jsx(A,{}),label:"Breathing Exercise",iconPosition:"start"})]}),l===0&&e.jsxs(c,{sx:{p:3},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Share Your Location"}),e.jsx(r,{variant:"body2",paragraph:!0,color:"text.secondary",children:"Your location can be shared with your emergency contacts to help them find you in case of an emergency."}),e.jsx(se,{})]}),l===1&&e.jsxs(c,{sx:{p:3},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Emergency Contacts"}),e.jsx(r,{variant:"body2",paragraph:!0,color:"text.secondary",children:"Add and manage your emergency contacts who will be notified when you need help."}),e.jsx(V,{})]}),l===2&&e.jsxs(c,{sx:{p:3},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Breathing Exercise"}),e.jsx(r,{variant:"body2",paragraph:!0,color:"text.secondary",children:"Follow this guided breathing exercise to help calm yourself during moments of anxiety."}),e.jsx(X,{}),e.jsx(c,{sx:{mt:3,textAlign:"center"},children:e.jsx(i,{variant:"outlined",color:"primary",startIcon:e.jsx(A,{}),onClick:h,children:"Open Full Breathing Game"})})]})]})]})})};export{we as default};

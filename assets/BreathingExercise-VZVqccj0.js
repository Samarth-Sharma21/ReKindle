import{r as i,j as t,P as S,s as l,B as c,q as f,Z as B,t as w,n as g}from"./index-CXEbI5Qv.js";import{C as I}from"./Container-Cq2we_GA.js";import{A as P}from"./index-Ddjj3efR.js";const A=()=>{const[s,h]=i.useState(!1),[e,r]=i.useState("ready"),[p,x]=i.useState(0),[d,o]=i.useState(0),a={inhale:4,hold:2,exhale:6,totalCycles:3};i.useEffect(()=>{let n;return s&&(e==="ready"?(r("inhale"),x(a.inhale)):n=setInterval(()=>{x(y=>{if(y<=1){if(e==="inhale")return r("hold"),a.hold;if(e==="hold")return r("exhale"),a.exhale;if(e==="exhale"){const m=d+1;return o(m),m>=a.totalCycles?(h(!1),r("ready"),o(0),0):(r("inhale"),a.inhale)}}return y-1})},1e3)),()=>{clearInterval(n)}},[s,e,d]);const j=()=>{h(!0),r("ready"),o(0)},v=()=>{h(!1),r("ready"),x(0),o(0)},b=()=>{switch(e){case"inhale":return"Breathe in slowly...";case"hold":return"Hold your breath...";case"exhale":return"Breathe out slowly...";default:return"Press start when ready"}},u=()=>{switch(e){case"inhale":return"#6a5acd";case"hold":return"#ff8c69";case"exhale":return"#4a3b9c";default:return"#9d8ce0"}},C=()=>{if(!s||e==="ready")return 0;const n=e==="inhale"?a.inhale:e==="hold"?a.hold:a.exhale;return Math.min((n-p)/n*100,99.5)};return t.jsx(I,{maxWidth:"sm",children:t.jsxs(S,{elevation:3,sx:{p:4,borderRadius:4,display:"flex",flexDirection:"column",alignItems:"center",bgcolor:"background.paper"},children:[t.jsx(l,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",color:"primary",children:"Breathing Exercise"}),t.jsx(l,{variant:"body1",paragraph:!0,align:"center",children:"Take a moment to relax with this guided breathing exercise. Follow the animation and breathe along."}),t.jsx(c,{sx:{position:"relative",my:4,display:"flex",justifyContent:"center"},children:t.jsx(P,{mode:"wait",children:t.jsxs(f.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.7,ease:"easeOut"},style:{position:"relative"},children:[t.jsx(B,{variant:"determinate",value:C(),size:200,thickness:4,sx:{color:u()}}),t.jsx(c,{sx:{position:"absolute",top:0,left:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(f.div,{animate:{scale:e==="inhale"?[1,1.3]:e==="exhale"?[1.3,1]:1.3,opacity:[.8,1,.8]},transition:{duration:e==="inhale"?a.inhale:e==="exhale"?a.exhale:0,ease:"easeInOut",opacity:{duration:e==="inhale"||e==="exhale"?2:0,repeat:e==="inhale"||e==="exhale"?1:0,repeatType:"reverse"}},children:t.jsx(w,{sx:{fontSize:80,color:u(),opacity:.8}})})})]},e)})}),t.jsxs(c,{sx:{textAlign:"center",mb:3},children:[t.jsx(l,{variant:"h5",gutterBottom:!0,children:b()}),s&&t.jsx(l,{variant:"h3",color:u(),children:p}),s&&t.jsxs(l,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Cycle ",d+1," of ",a.totalCycles]})]}),t.jsx(c,{sx:{display:"flex",gap:2,justifyContent:"center"},children:s?t.jsx(g,{variant:"outlined",color:"primary",size:"large",onClick:v,"aria-label":"Stop breathing exercise",sx:{px:4,py:1.5,fontSize:"1.1rem"},children:"Stop"}):t.jsx(g,{variant:"contained",color:"primary",size:"large",onClick:j,"aria-label":"Start breathing exercise",sx:{px:4,py:1.5,fontSize:"1.1rem"},children:"Start Breathing"})})]})})};export{A as B};

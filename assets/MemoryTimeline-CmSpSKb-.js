import{r as u,d as G,j as e,J as R,a7 as Z,Q as P,a8 as Y,z as N,y as W,C as H,a9 as ht,K as O,N as D,s as j,aa as xt,ab as ft,_ as C,ac as at,ad as st,ae as bt,Y as F,$ as mt,e as it,q as nt,B as b,I as lt,af as vt,ag as X,R as yt,g as Ct,P as ct,a0 as jt,a1 as wt,w as Bt,x as $t}from"./index-BmLVi8vg.js";import"./cjs-T6Auk3jY.js";import{T as K,M as tt}from"./TextSnippet-DNWmtxOx.js";import{P as E}from"./Photo-CWezhLbh.js";import{L as dt}from"./LocationOn-Tjx6elGm.js";import{P as pt}from"./People-BsXalz5H.js";import{A as Rt}from"./AudioPlayer-jSfEUB06.js";import{C as St,a as kt}from"./CardContent-CZS0zZ0T.js";import{C as I}from"./Chip-BKtNi0i9.js";import{f as et}from"./format-FSiKa7TQ.js";import{A as Mt}from"./ArrowForward-BI0FkxmS.js";import{G as A}from"./Grid-le5V3Wf4.js";import{C as ot}from"./Container-Bvb4e2sG.js";function zt(t){return u.Children.toArray(t).filter(o=>u.isValidElement(o))}const At=G(e.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),Tt=R(Z)(P(({theme:t})=>({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`,...t.palette.mode==="light"?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},borderRadius:2,"&:hover, &:focus":{...t.palette.mode==="light"?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}},"&:active":{boxShadow:t.shadows[0],...t.palette.mode==="light"?{backgroundColor:Y(t.palette.grey[200],.12)}:{backgroundColor:Y(t.palette.grey[600],.12)}}}))),It=R(At)({width:24,height:16});function Ot(t){const{slots:o={},slotProps:r={},...s}=t,i=t;return e.jsx("li",{children:e.jsx(Tt,{focusRipple:!0,...s,ownerState:i,children:e.jsx(It,{as:o.CollapsedIcon,ownerState:i,...r.collapsedIcon})})})}function Pt(t){return W("MuiBreadcrumbs",t)}const Lt=N("MuiBreadcrumbs",["root","ol","li","separator"]),Vt=t=>{const{classes:o}=t;return D({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},Pt,o)},Nt=R(j,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(t,o)=>[{[`& .${Lt.li}`]:o.li},o.root]})({}),Wt=R("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(t,o)=>o.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),Ht=R("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(t,o)=>o.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function Dt(t,o,r,s){return t.reduce((i,a,c)=>(c<t.length-1?i=i.concat(a,e.jsx(Ht,{"aria-hidden":!0,className:o,ownerState:s,children:r},`separator-${c}`)):i.push(a),i),[])}const Be=u.forwardRef(function(o,r){const s=H({props:o,name:"MuiBreadcrumbs"}),{children:i,className:a,component:c="nav",slots:d={},slotProps:v={},expandText:l="Show path",itemsAfterCollapse:n=1,itemsBeforeCollapse:y=1,maxItems:f=8,separator:h="/",...S}=s,[$,w]=u.useState(!1),m={...s,component:c,expanded:$,expandText:l,itemsAfterCollapse:n,itemsBeforeCollapse:y,maxItems:f,separator:h},B=Vt(m),L=ht({elementType:d.CollapsedIcon,externalSlotProps:v.collapsedIcon,ownerState:m}),k=u.useRef(null),V=g=>{const x=()=>{w(!0);const M=k.current.querySelector("a[href],button,[tabindex]");M&&M.focus()};return y+n>=g.length?g:[...g.slice(0,y),e.jsx(Ot,{"aria-label":l,slots:{CollapsedIcon:d.CollapsedIcon},slotProps:{collapsedIcon:L},onClick:x},"ellipsis"),...g.slice(g.length-n,g.length)]},z=u.Children.toArray(i).filter(g=>u.isValidElement(g)).map((g,x)=>e.jsx("li",{className:B.li,children:g},`child-${x}`));return e.jsx(Nt,{ref:r,component:c,color:"textSecondary",className:O(B.root,a),ownerState:m,...S,children:e.jsx(Wt,{className:B.ol,ref:k,ownerState:m,children:Dt($||f&&z.length<=f?z:V(z),B.separator,h,m)})})});function Ut(t){return W("MuiCardActionArea",t)}const q=N("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Et=t=>{const{classes:o}=t;return D({root:["root"],focusHighlight:["focusHighlight"]},Ut,o)},Gt=R(Z,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,o)=>o.root})(P(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${q.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${q.focusVisible} .${q.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}}))),Ft=R("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,o)=>o.focusHighlight})(P(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}))),Xt=u.forwardRef(function(o,r){const s=H({props:o,name:"MuiCardActionArea"}),{children:i,className:a,focusVisibleClassName:c,...d}=s,v=s,l=Et(v);return e.jsxs(Gt,{className:O(l.root,a),focusVisibleClassName:O(c,l.focusVisible),ref:r,ownerState:v,...d,children:[i,e.jsx(Ft,{className:l.focusHighlight,ownerState:v})]})});function Kt(t){return W("MuiSkeleton",t)}N("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const qt=t=>{const{classes:o,variant:r,animation:s,hasChildren:i,width:a,height:c}=t;return D({root:["root",r,s,i&&"withChildren",i&&!a&&"fitContent",i&&!c&&"heightAuto"]},Kt,o)},J=st`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,Q=st`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,Jt=typeof J!="string"?at`
        animation: ${J} 2s ease-in-out 0.5s infinite;
      `:null,Qt=typeof Q!="string"?at`
        &::after {
          animation: ${Q} 2s linear 0.5s infinite;
        }
      `:null,_t=R("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:r}=t;return[o.root,o[r.variant],r.animation!==!1&&o[r.animation],r.hasChildren&&o.withChildren,r.hasChildren&&!r.width&&o.fitContent,r.hasChildren&&!r.height&&o.heightAuto]}})(P(({theme:t})=>{const o=xt(t.shape.borderRadius)||"px",r=ft(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:C(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${o}/${Math.round(r/.6*10)/10}${o}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:({ownerState:s})=>s.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:s})=>s.hasChildren&&!s.width,style:{maxWidth:"fit-content"}},{props:({ownerState:s})=>s.hasChildren&&!s.height,style:{height:"auto"}},{props:{animation:"pulse"},style:Jt||{animation:`${J} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(t.vars||t).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:Qt||{"&::after":{animation:`${Q} 2s linear 0.5s infinite`}}}]}})),_=u.forwardRef(function(o,r){const s=H({props:o,name:"MuiSkeleton"}),{animation:i="pulse",className:a,component:c="span",height:d,style:v,variant:l="text",width:n,...y}=s,f={...s,animation:i,component:c,variant:l,hasChildren:!!y.children},h=qt(f);return e.jsx(_t,{as:c,ref:r,className:O(h.root,a),ownerState:f,...y,style:{width:n,height:d,...v}})});function Zt(t){return W("MuiToggleButton",t)}const T=N("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),ut=u.createContext({}),gt=u.createContext(void 0);function Yt(t,o){return o===void 0||t===void 0?!1:Array.isArray(o)?o.includes(t):t===o}const te=t=>{const{classes:o,fullWidth:r,selected:s,disabled:i,size:a,color:c}=t,d={root:["root",s&&"selected",i&&"disabled",r&&"fullWidth",`size${F(a)}`,c]};return D(d,Zt,o)},ee=R(Z,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:r}=t;return[o.root,o[`size${F(r.size)}`]]}})(P(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${T.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:C(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${T.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:C(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:C(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:C(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(mt()).map(([o])=>({props:{color:o},style:{[`&.${T.selected}`]:{color:(t.vars||t).palette[o].main,backgroundColor:t.vars?`rgba(${t.vars.palette[o].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:C(t.palette[o].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[o].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:C(t.palette[o].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[o].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:C(t.palette[o].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),rt=u.forwardRef(function(o,r){const{value:s,...i}=u.useContext(ut),a=u.useContext(gt),c=bt({...i,selected:Yt(o.value,s)},o),d=H({props:c,name:"MuiToggleButton"}),{children:v,className:l,color:n="standard",disabled:y=!1,disableFocusRipple:f=!1,fullWidth:h=!1,onChange:S,onClick:$,selected:w,size:m="medium",value:B,...L}=d,k={...d,color:n,disabled:y,disableFocusRipple:f,fullWidth:h,size:m},V=te(k),z=x=>{$&&($(x,B),x.defaultPrevented)||S&&S(x,B)},g=a||"";return e.jsx(ee,{className:O(i.className,V.root,l,g),disabled:y,focusRipple:!f,ref:r,onClick:z,onChange:S,value:B,ownerState:k,"aria-pressed":w,...L,children:v})});function oe(t){return W("MuiToggleButtonGroup",t)}const p=N("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),re=t=>{const{classes:o,orientation:r,fullWidth:s,disabled:i}=t,a={root:["root",r,s&&"fullWidth"],grouped:["grouped",`grouped${F(r)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return D(a,oe,o)},ae=R("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:r}=t;return[{[`& .${p.grouped}`]:o.grouped},{[`& .${p.grouped}`]:o[`grouped${F(r.orientation)}`]},{[`& .${p.firstButton}`]:o.firstButton},{[`& .${p.lastButton}`]:o.lastButton},{[`& .${p.middleButton}`]:o.middleButton},o.root,r.orientation==="vertical"&&o.vertical,r.fullWidth&&o.fullWidth]}})(P(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${p.grouped}`]:{[`&.${p.selected} + .${p.grouped}.${p.selected}`]:{borderTop:0,marginTop:0}},[`& .${p.firstButton},& .${p.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${p.lastButton},& .${p.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${p.lastButton}.${T.disabled},& .${p.middleButton}.${T.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${p.grouped}`]:{[`&.${p.selected} + .${p.grouped}.${p.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${p.firstButton},& .${p.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${p.lastButton},& .${p.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${p.lastButton}.${T.disabled},& .${p.middleButton}.${T.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),se=u.forwardRef(function(o,r){const s=H({props:o,name:"MuiToggleButtonGroup"}),{children:i,className:a,color:c="standard",disabled:d=!1,exclusive:v=!1,fullWidth:l=!1,onChange:n,orientation:y="horizontal",size:f="medium",value:h,...S}=s,$={...s,disabled:d,fullWidth:l,orientation:y,size:f},w=re($),m=u.useCallback((g,x)=>{if(!n)return;const M=h&&h.indexOf(x);let U;h&&M>=0?(U=h.slice(),U.splice(M,1)):U=h?h.concat(x):[x],n(g,U)},[n,h]),B=u.useCallback((g,x)=>{n&&n(g,h===x?null:x)},[n,h]),L=u.useMemo(()=>({className:w.grouped,onChange:v?B:m,value:h,size:f,fullWidth:l,color:c,disabled:d}),[w.grouped,v,B,m,h,f,l,c,d]),k=zt(i),V=k.length,z=g=>{const x=g===0,M=g===V-1;return x&&M?"":x?w.firstButton:M?w.lastButton:w.middleButton};return e.jsx(ae,{role:"group",className:O(w.root,a),ref:r,ownerState:$,...S,children:e.jsx(ut.Provider,{value:L,children:k.map((g,x)=>e.jsx(gt.Provider,{value:z(x),children:g},x))})})}),ie=G(e.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),ne=({memory:t={id:"1",title:"Family Picnic",date:"2023-06-15",type:"photo",content:"",location:"Central Park",people:["Mom","Dad","Sister"],filter:"polaroid"}})=>{const o=it(),[r,s]=u.useState(null),i=!!r,[a,c]=u.useState(!1),[d,v]=u.useState(!0),l=m=>{m.stopPropagation(),s(m.currentTarget)},n=m=>{m&&m.stopPropagation(),s(null)},y=()=>{o(`/memory/${t.id}`)},f=()=>{c(!0),v(!1)},h=()=>{v(!1)},S=()=>{switch(t.filter){case"polaroid":return{border:"15px solid white",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",transform:"rotate(-2deg)",mb:2};case"sepia":return{filter:"sepia(100%)",border:"5px solid #d4b483",mb:2};case"vintage":return{filter:"grayscale(50%)",border:"8px solid #f5f5f5",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15)",mb:2};default:return{mb:2}}},$=()=>{switch(t.type){case"photo":return e.jsxs(b,{sx:{position:"relative",overflow:"hidden",height:200},children:[d&&e.jsx(_,{variant:"rectangular",width:"100%",height:"100%",animation:"wave"}),a?e.jsx(b,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"background.paper"},children:e.jsx(E,{sx:{fontSize:40,color:"text.secondary"}})}):e.jsx("img",{src:t.content,alt:t.title,onError:f,onLoad:h,style:{width:"100%",height:"100%",objectFit:"cover",display:d?"none":"block",...S()}}),e.jsx(b,{sx:{position:"absolute",top:10,right:10,bgcolor:"rgba(255, 255, 255, 0.8)",borderRadius:"50%",p:.5},children:e.jsx(E,{color:"primary",fontSize:"small"})})]});case"voice":return e.jsxs(b,{sx:{height:200,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",bgcolor:C("#2196f3",.1),position:"relative",overflow:"hidden",p:2},children:[e.jsx(yt,{sx:{bgcolor:C("#2196f3",.8),width:64,height:64,mb:2,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.15)","&:hover":{transform:"scale(1.1)",bgcolor:C("#2196f3",1)},transition:"all 0.3s ease"},children:e.jsx(tt,{sx:{fontSize:40,color:"white"}})}),e.jsx(j,{variant:"subtitle1",sx:{fontWeight:500},children:"Voice Recording"}),e.jsx(b,{sx:{width:"100%",mt:2},children:e.jsx(Rt,{filePath:t.content,showControls:!1})})]});case"text":return e.jsxs(b,{sx:{p:3,bgcolor:C("#9c27b0",.05),borderRadius:2,mb:0,height:200,display:"flex",alignItems:"flex-start",justifyContent:"center",flexDirection:"column",position:"relative",overflow:"hidden"},children:[e.jsx(K,{sx:{fontSize:30,color:C("#9c27b0",.6),mb:2}}),e.jsxs(j,{variant:"body1",color:"text.primary",sx:{fontStyle:"italic",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical"},children:['"',t.content,'"']}),e.jsx(b,{sx:{position:"absolute",top:10,right:10,bgcolor:"rgba(255, 255, 255, 0.8)",borderRadius:"50%",p:.5},children:e.jsx(K,{color:"primary",fontSize:"small"})})]});default:return null}},w=()=>{switch(t.type){case"photo":return e.jsx(E,{fontSize:"small"});case"voice":return e.jsx(tt,{fontSize:"small"});case"text":return e.jsx(K,{fontSize:"small"});default:return e.jsx(E,{fontSize:"small"})}};return e.jsx(nt.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:17},children:e.jsxs(St,{sx:{maxWidth:345,width:"100%",borderRadius:3,overflow:"hidden",boxShadow:3,bgcolor:"background.paper",position:"relative"},children:[e.jsxs(Xt,{onClick:y,children:[$(),e.jsxs(kt,{children:[e.jsxs(b,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs(b,{children:[e.jsx(j,{gutterBottom:!0,variant:"h6",component:"div",children:t.title}),e.jsx(j,{variant:"body2",color:"text.secondary",children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(lt,{"aria-label":"more",id:"memory-menu-button","aria-controls":i?"memory-menu":void 0,"aria-expanded":i?"true":void 0,"aria-haspopup":"true",onClick:l,sx:{mt:-1,mr:-1},children:e.jsx(ie,{})})]}),e.jsxs(b,{sx:{display:"flex",mt:2,flexWrap:"wrap",gap:1},children:[e.jsx(I,{icon:w(),label:t.type.charAt(0).toUpperCase()+t.type.slice(1),size:"small",color:"primary",variant:"outlined"}),t.location&&e.jsx(I,{icon:e.jsx(dt,{fontSize:"small"}),label:t.location,size:"small",variant:"outlined"}),t.people&&t.people.length>0&&e.jsx(I,{icon:e.jsx(pt,{fontSize:"small"}),label:`${t.people.length} people`,size:"small",variant:"outlined"})]})]})]}),e.jsxs(vt,{id:"memory-menu",anchorEl:r,open:i,onClose:n,MenuListProps:{"aria-labelledby":"memory-menu-button"},children:[e.jsx(X,{onClick:m=>{n(m),o(`/memory/${t.id}`)},children:"View Details"}),e.jsx(X,{onClick:n,children:"Share Memory"}),e.jsx(X,{onClick:n,children:"Edit Memory"})]})]})})},le=({memories:t=[]})=>{const o=Ct(),r=it(),s=o.palette.mode==="dark",i=a=>{r(`/memory/${a}`)};return t.length===0?e.jsx(ct,{sx:{p:4,textAlign:"center",borderRadius:2,bgcolor:"background.paper"},children:e.jsx(j,{variant:"h6",color:"text.secondary",children:"No memories found in this time period."})}):e.jsx(jt,{sx:{width:"100%",bgcolor:"background.paper",borderRadius:2},children:t.map((a,c)=>e.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:c*.05},children:[e.jsx(wt,{alignItems:"flex-start",sx:{p:2,mb:c<t.length-1?2:0,borderRadius:2,bgcolor:s?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.02)",border:"1px solid",borderColor:s?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)","&:hover":{bgcolor:s?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)",cursor:"pointer"}},onClick:()=>i(a.id),children:e.jsxs(A,{container:!0,spacing:2,children:[e.jsx(A,{item:!0,xs:12,sm:3,md:2,children:e.jsxs(b,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:[e.jsx(j,{variant:"h6",color:"primary",sx:{fontWeight:"bold",textAlign:"center"},children:a.date?et(new Date(a.date),"MMM d"):"No Date"}),e.jsx(j,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:a.date?et(new Date(a.date),"yyyy"):""})]})}),e.jsx(A,{item:!0,xs:12,sm:9,md:10,children:e.jsxs(b,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsx(j,{variant:"h6",component:"div",sx:{fontWeight:"medium"},children:a.title||"Untitled Memory"}),e.jsxs(b,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:1},children:[a.location&&e.jsx(I,{icon:e.jsx(dt,{fontSize:"small"}),label:a.location,size:"small",variant:"outlined"}),a.people&&a.people.length>0&&e.jsx(I,{icon:e.jsx(pt,{fontSize:"small"}),label:`${a.people.length} people`,size:"small",variant:"outlined"}),a.type&&e.jsx(I,{label:a.type.charAt(0).toUpperCase()+a.type.slice(1),size:"small",color:"primary",variant:"outlined"})]}),a.description&&e.jsx(j,{variant:"body2",color:"text.secondary",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:a.description}),e.jsx(b,{sx:{display:"flex",justifyContent:"flex-end",mt:1},children:e.jsx(lt,{size:"small",color:"primary",onClick:d=>{d.stopPropagation(),i(a.id)},children:e.jsx(Mt,{})})})]})})]})}),c<t.length-1&&e.jsx(Bt,{variant:"inset",component:"li",sx:{ml:0}})]},a.id))})},ce=G(e.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"})),de=G(e.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"})),$e=()=>{const[t,o]=u.useState("grid"),[r,s]=u.useState([]),[i,a]=u.useState(!0);u.useEffect(()=>{(async()=>{try{const{data:n,error:y}=await $t.from("memories").select("*").order("date",{ascending:!1});if(y)throw y;s(n||[])}catch(n){console.error("Error fetching memories:",n.message)}finally{a(!1)}})()},[]);const c=(l,n)=>{n!==null&&o(n)},d=r.reduce((l,n)=>{const f=new Date(n.date).toLocaleDateString("en-US",{year:"numeric",month:"long"});return l[f]||(l[f]=[]),l[f].push(n),l},{}),v=Object.keys(d).sort((l,n)=>new Date(n)-new Date(l));return i?e.jsx(ot,{children:e.jsxs(b,{sx:{mb:4},children:[e.jsx(_,{variant:"rectangular",width:210,height:40}),e.jsx(b,{sx:{mt:2},children:e.jsx(A,{container:!0,spacing:3,children:[1,2,3,4,5,6].map(l=>e.jsx(A,{item:!0,xs:12,sm:6,md:4,children:e.jsx(_,{variant:"rectangular",height:300})},l))})})]})}):e.jsx(ot,{children:e.jsxs(b,{sx:{mb:4,minHeight:"600px"},children:[e.jsxs(b,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(j,{variant:"h4",component:"h1",children:"Memory Timeline"}),e.jsxs(se,{value:t,exclusive:!0,onChange:c,"aria-label":"view mode",children:[e.jsx(rt,{value:"grid","aria-label":"grid view",children:e.jsx(ce,{})}),e.jsx(rt,{value:"list","aria-label":"list view",children:e.jsx(de,{})})]})]}),r.length===0?e.jsx(ct,{sx:{p:4,textAlign:"center",borderRadius:2,bgcolor:"background.paper"},children:e.jsx(j,{variant:"h6",color:"text.secondary",children:"No memories found. Start creating memories to see them here!"})}):v.map(l=>e.jsxs(b,{sx:{mb:6},children:[e.jsx(j,{variant:"h5",sx:{mb:3,pb:1,borderBottom:"2px solid",borderColor:"primary.main",display:"inline-block"},children:l}),t==="list"?e.jsx(le,{memories:d[l]}):e.jsx(A,{container:!0,spacing:3,children:d[l].map(n=>e.jsx(A,{item:!0,xs:12,sm:6,md:4,children:e.jsx(ne,{memory:n,viewMode:t})},n.id))})]},l))]})})};export{Be as B,$e as M};

import{r as c,d as G,j as e,J as $,a5 as Y,Q as I,a6 as tt,z as L,y as V,C as H,a7 as it,K as A,N,s as M,a8 as lt,a9 as ct,a2 as y,aa as rt,ab as at,ac as dt,a0 as D,a3 as pt,e as ut,q as gt,B as C,I as ht,ad as ft,ae as F,X as xt,P as mt,x as bt}from"./index-CXEbI5Qv.js";import{T as vt}from"./Timeline-CiHZRLg7.js";import{T as X,M as et}from"./TextSnippet-DrnGz0W2.js";import{P as U}from"./Photo-D8NS2HII.js";import{L as Ct}from"./LocationOn-C75YpRGj.js";import{P as yt}from"./People-Jros5Tob.js";import{A as jt}from"./AudioPlayer-ChIpMABf.js";import{C as Bt,a as wt}from"./CardContent-CLYU36tH.js";import{C as K}from"./Chip-BKE0WoxR.js";import{C as ot}from"./Container-Cq2we_GA.js";import{G as E}from"./Grid-DNk133Lp.js";function $t(t){return c.Children.toArray(t).filter(o=>c.isValidElement(o))}const St=G(e.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),Rt=$(Y)(I(({theme:t})=>({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`,...t.palette.mode==="light"?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},borderRadius:2,"&:hover, &:focus":{...t.palette.mode==="light"?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}},"&:active":{boxShadow:t.shadows[0],...t.palette.mode==="light"?{backgroundColor:tt(t.palette.grey[200],.12)}:{backgroundColor:tt(t.palette.grey[600],.12)}}}))),kt=$(St)({width:24,height:16});function Mt(t){const{slots:o={},slotProps:r={},...a}=t,n=t;return e.jsx("li",{children:e.jsx(Rt,{focusRipple:!0,...a,ownerState:n,children:e.jsx(kt,{as:o.CollapsedIcon,ownerState:n,...r.collapsedIcon})})})}function zt(t){return V("MuiBreadcrumbs",t)}const Tt=L("MuiBreadcrumbs",["root","ol","li","separator"]),At=t=>{const{classes:o}=t;return N({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},zt,o)},It=$(M,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(t,o)=>[{[`& .${Tt.li}`]:o.li},o.root]})({}),Ot=$("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(t,o)=>o.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),Pt=$("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(t,o)=>o.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function Lt(t,o,r,a){return t.reduce((n,p,d)=>(d<t.length-1?n=n.concat(p,e.jsx(Pt,{"aria-hidden":!0,className:o,ownerState:a,children:r},`separator-${d}`)):n.push(p),n),[])}const xe=c.forwardRef(function(o,r){const a=H({props:o,name:"MuiBreadcrumbs"}),{children:n,className:p,component:d="nav",slots:u={},slotProps:b={},expandText:i="Show path",itemsAfterCollapse:s=1,itemsBeforeCollapse:v=1,maxItems:x=8,separator:h="/",...S}=a,[w,j]=c.useState(!1),m={...a,component:d,expanded:w,expandText:i,itemsAfterCollapse:s,itemsBeforeCollapse:v,maxItems:x,separator:h},B=At(m),O=it({elementType:u.CollapsedIcon,externalSlotProps:b.collapsedIcon,ownerState:m}),R=c.useRef(null),P=g=>{const f=()=>{j(!0);const k=R.current.querySelector("a[href],button,[tabindex]");k&&k.focus()};return v+s>=g.length?g:[...g.slice(0,v),e.jsx(Mt,{"aria-label":i,slots:{CollapsedIcon:u.CollapsedIcon},slotProps:{collapsedIcon:O},onClick:f},"ellipsis"),...g.slice(g.length-s,g.length)]},z=c.Children.toArray(n).filter(g=>c.isValidElement(g)).map((g,f)=>e.jsx("li",{className:B.li,children:g},`child-${f}`));return e.jsx(It,{ref:r,component:d,color:"textSecondary",className:A(B.root,p),ownerState:m,...S,children:e.jsx(Ot,{className:B.ol,ref:R,ownerState:m,children:Lt(w||x&&z.length<=x?z:P(z),B.separator,h,m)})})});function Vt(t){return V("MuiCardActionArea",t)}const q=L("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Ht=t=>{const{classes:o}=t;return N({root:["root"],focusHighlight:["focusHighlight"]},Vt,o)},Nt=$(Y,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,o)=>o.root})(I(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${q.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${q.focusVisible} .${q.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}}))),Wt=$("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,o)=>o.focusHighlight})(I(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}))),Ut=c.forwardRef(function(o,r){const a=H({props:o,name:"MuiCardActionArea"}),{children:n,className:p,focusVisibleClassName:d,...u}=a,b=a,i=Ht(b);return e.jsxs(Nt,{className:A(i.root,p),focusVisibleClassName:A(d,i.focusVisible),ref:r,ownerState:b,...u,children:[n,e.jsx(Wt,{className:i.focusHighlight,ownerState:b})]})});function Et(t){return V("MuiSkeleton",t)}L("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Gt=t=>{const{classes:o,variant:r,animation:a,hasChildren:n,width:p,height:d}=t;return N({root:["root",r,a,n&&"withChildren",n&&!p&&"fitContent",n&&!d&&"heightAuto"]},Et,o)},Q=at`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,Z=at`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,Dt=typeof Q!="string"?rt`
        animation: ${Q} 2s ease-in-out 0.5s infinite;
      `:null,Ft=typeof Z!="string"?rt`
        &::after {
          animation: ${Z} 2s linear 0.5s infinite;
        }
      `:null,Xt=$("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:r}=t;return[o.root,o[r.variant],r.animation!==!1&&o[r.animation],r.hasChildren&&o.withChildren,r.hasChildren&&!r.width&&o.fitContent,r.hasChildren&&!r.height&&o.heightAuto]}})(I(({theme:t})=>{const o=lt(t.shape.borderRadius)||"px",r=ct(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:y(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${o}/${Math.round(r/.6*10)/10}${o}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:({ownerState:a})=>a.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:a})=>a.hasChildren&&!a.width,style:{maxWidth:"fit-content"}},{props:({ownerState:a})=>a.hasChildren&&!a.height,style:{height:"auto"}},{props:{animation:"pulse"},style:Dt||{animation:`${Q} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(t.vars||t).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:Ft||{"&::after":{animation:`${Z} 2s linear 0.5s infinite`}}}]}})),_=c.forwardRef(function(o,r){const a=H({props:o,name:"MuiSkeleton"}),{animation:n="pulse",className:p,component:d="span",height:u,style:b,variant:i="text",width:s,...v}=a,x={...a,animation:n,component:d,variant:i,hasChildren:!!v.children},h=Gt(x);return e.jsx(Xt,{as:d,ref:r,className:A(h.root,p),ownerState:x,...v,style:{width:s,height:u,...b}})});function Kt(t){return V("MuiToggleButton",t)}const T=L("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),st=c.createContext({}),nt=c.createContext(void 0);function qt(t,o){return o===void 0||t===void 0?!1:Array.isArray(o)?o.includes(t):t===o}const Jt=t=>{const{classes:o,fullWidth:r,selected:a,disabled:n,size:p,color:d}=t,u={root:["root",a&&"selected",n&&"disabled",r&&"fullWidth",`size${D(p)}`,d]};return N(u,Kt,o)},Qt=$(Y,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:r}=t;return[o.root,o[`size${D(r.size)}`]]}})(I(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${T.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:y(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${T.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:y(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:y(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:y(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(pt()).map(([o])=>({props:{color:o},style:{[`&.${T.selected}`]:{color:(t.vars||t).palette[o].main,backgroundColor:t.vars?`rgba(${t.vars.palette[o].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:y(t.palette[o].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[o].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:y(t.palette[o].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[o].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:y(t.palette[o].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),J=c.forwardRef(function(o,r){const{value:a,...n}=c.useContext(st),p=c.useContext(nt),d=dt({...n,selected:qt(o.value,a)},o),u=H({props:d,name:"MuiToggleButton"}),{children:b,className:i,color:s="standard",disabled:v=!1,disableFocusRipple:x=!1,fullWidth:h=!1,onChange:S,onClick:w,selected:j,size:m="medium",value:B,...O}=u,R={...u,color:s,disabled:v,disableFocusRipple:x,fullWidth:h,size:m},P=Jt(R),z=f=>{w&&(w(f,B),f.defaultPrevented)||S&&S(f,B)},g=p||"";return e.jsx(Qt,{className:A(n.className,P.root,i,g),disabled:v,focusRipple:!x,ref:r,onClick:z,onChange:S,value:B,ownerState:R,"aria-pressed":j,...O,children:b})});function Zt(t){return V("MuiToggleButtonGroup",t)}const l=L("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),_t=t=>{const{classes:o,orientation:r,fullWidth:a,disabled:n}=t,p={root:["root",r,a&&"fullWidth"],grouped:["grouped",`grouped${D(r)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return N(p,Zt,o)},Yt=$("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:r}=t;return[{[`& .${l.grouped}`]:o.grouped},{[`& .${l.grouped}`]:o[`grouped${D(r.orientation)}`]},{[`& .${l.firstButton}`]:o.firstButton},{[`& .${l.lastButton}`]:o.lastButton},{[`& .${l.middleButton}`]:o.middleButton},o.root,r.orientation==="vertical"&&o.vertical,r.fullWidth&&o.fullWidth]}})(I(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${l.grouped}`]:{[`&.${l.selected} + .${l.grouped}.${l.selected}`]:{borderTop:0,marginTop:0}},[`& .${l.firstButton},& .${l.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${l.lastButton},& .${l.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${l.lastButton}.${T.disabled},& .${l.middleButton}.${T.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${l.grouped}`]:{[`&.${l.selected} + .${l.grouped}.${l.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${l.firstButton},& .${l.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${l.lastButton},& .${l.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${l.lastButton}.${T.disabled},& .${l.middleButton}.${T.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),te=c.forwardRef(function(o,r){const a=H({props:o,name:"MuiToggleButtonGroup"}),{children:n,className:p,color:d="standard",disabled:u=!1,exclusive:b=!1,fullWidth:i=!1,onChange:s,orientation:v="horizontal",size:x="medium",value:h,...S}=a,w={...a,disabled:u,fullWidth:i,orientation:v,size:x},j=_t(w),m=c.useCallback((g,f)=>{if(!s)return;const k=h&&h.indexOf(f);let W;h&&k>=0?(W=h.slice(),W.splice(k,1)):W=h?h.concat(f):[f],s(g,W)},[s,h]),B=c.useCallback((g,f)=>{s&&s(g,h===f?null:f)},[s,h]),O=c.useMemo(()=>({className:j.grouped,onChange:b?B:m,value:h,size:x,fullWidth:i,color:d,disabled:u}),[j.grouped,b,B,m,h,x,i,d,u]),R=$t(n),P=R.length,z=g=>{const f=g===0,k=g===P-1;return f&&k?"":f?j.firstButton:k?j.lastButton:j.middleButton};return e.jsx(Yt,{role:"group",className:A(j.root,p),ref:r,ownerState:w,...S,children:e.jsx(st.Provider,{value:O,children:R.map((g,f)=>e.jsx(nt.Provider,{value:z(f),children:g},f))})})}),ee=G(e.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),oe=({memory:t={id:"1",title:"Family Picnic",date:"2023-06-15",type:"photo",content:"",location:"Central Park",people:["Mom","Dad","Sister"],filter:"polaroid"}})=>{const o=ut(),[r,a]=c.useState(null),n=!!r,[p,d]=c.useState(!1),[u,b]=c.useState(!0),i=m=>{m.stopPropagation(),a(m.currentTarget)},s=m=>{m&&m.stopPropagation(),a(null)},v=()=>{o(`/memory/${t.id}`)},x=()=>{d(!0),b(!1)},h=()=>{b(!1)},S=()=>{switch(t.filter){case"polaroid":return{border:"15px solid white",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",transform:"rotate(-2deg)",mb:2};case"sepia":return{filter:"sepia(100%)",border:"5px solid #d4b483",mb:2};case"vintage":return{filter:"grayscale(50%)",border:"8px solid #f5f5f5",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15)",mb:2};default:return{mb:2}}},w=()=>{switch(t.type){case"photo":return e.jsxs(C,{sx:{position:"relative",overflow:"hidden",height:200},children:[u&&e.jsx(_,{variant:"rectangular",width:"100%",height:"100%",animation:"wave"}),p?e.jsx(C,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"background.paper"},children:e.jsx(U,{sx:{fontSize:40,color:"text.secondary"}})}):e.jsx("img",{src:t.content,alt:t.title,onError:x,onLoad:h,style:{width:"100%",height:"100%",objectFit:"cover",display:u?"none":"block",...S()}}),e.jsx(C,{sx:{position:"absolute",top:10,right:10,bgcolor:"rgba(255, 255, 255, 0.8)",borderRadius:"50%",p:.5},children:e.jsx(U,{color:"primary",fontSize:"small"})})]});case"voice":return e.jsxs(C,{sx:{height:200,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",bgcolor:y("#2196f3",.1),position:"relative",overflow:"hidden",p:2},children:[e.jsx(xt,{sx:{bgcolor:y("#2196f3",.8),width:64,height:64,mb:2,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.15)","&:hover":{transform:"scale(1.1)",bgcolor:y("#2196f3",1)},transition:"all 0.3s ease"},children:e.jsx(et,{sx:{fontSize:40,color:"white"}})}),e.jsx(M,{variant:"subtitle1",sx:{fontWeight:500},children:"Voice Recording"}),e.jsx(C,{sx:{width:"100%",mt:2},children:e.jsx(jt,{filePath:t.content,showControls:!1})})]});case"text":return e.jsxs(C,{sx:{p:3,bgcolor:y("#9c27b0",.05),borderRadius:2,mb:0,height:200,display:"flex",alignItems:"flex-start",justifyContent:"center",flexDirection:"column",position:"relative",overflow:"hidden"},children:[e.jsx(X,{sx:{fontSize:30,color:y("#9c27b0",.6),mb:2}}),e.jsxs(M,{variant:"body1",color:"text.primary",sx:{fontStyle:"italic",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical"},children:['"',t.content,'"']}),e.jsx(C,{sx:{position:"absolute",top:10,right:10,bgcolor:"rgba(255, 255, 255, 0.8)",borderRadius:"50%",p:.5},children:e.jsx(X,{color:"primary",fontSize:"small"})})]});default:return null}},j=()=>{switch(t.type){case"photo":return e.jsx(U,{fontSize:"small"});case"voice":return e.jsx(et,{fontSize:"small"});case"text":return e.jsx(X,{fontSize:"small"});default:return e.jsx(U,{fontSize:"small"})}};return e.jsx(gt.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:17},children:e.jsxs(Bt,{sx:{maxWidth:345,width:"100%",borderRadius:3,overflow:"hidden",boxShadow:3,bgcolor:"background.paper",position:"relative"},children:[e.jsxs(Ut,{onClick:v,children:[w(),e.jsxs(wt,{children:[e.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs(C,{children:[e.jsx(M,{gutterBottom:!0,variant:"h6",component:"div",children:t.title}),e.jsx(M,{variant:"body2",color:"text.secondary",children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(ht,{"aria-label":"more",id:"memory-menu-button","aria-controls":n?"memory-menu":void 0,"aria-expanded":n?"true":void 0,"aria-haspopup":"true",onClick:i,sx:{mt:-1,mr:-1},children:e.jsx(ee,{})})]}),e.jsxs(C,{sx:{display:"flex",mt:2,flexWrap:"wrap",gap:1},children:[e.jsx(K,{icon:j(),label:t.type.charAt(0).toUpperCase()+t.type.slice(1),size:"small",color:"primary",variant:"outlined"}),t.location&&e.jsx(K,{icon:e.jsx(Ct,{fontSize:"small"}),label:t.location,size:"small",variant:"outlined"}),t.people&&t.people.length>0&&e.jsx(K,{icon:e.jsx(yt,{fontSize:"small"}),label:`${t.people.length} people`,size:"small",variant:"outlined"})]})]})]}),e.jsxs(ft,{id:"memory-menu",anchorEl:r,open:n,onClose:s,MenuListProps:{"aria-labelledby":"memory-menu-button"},children:[e.jsx(F,{onClick:m=>{s(m),o(`/memory/${t.id}`)},children:"View Details"}),e.jsx(F,{onClick:s,children:"Share Memory"}),e.jsx(F,{onClick:s,children:"Edit Memory"})]})]})})},re=G(e.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"})),ae=G(e.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"})),me=()=>{const[t,o]=c.useState("grid"),[r,a]=c.useState([]),[n,p]=c.useState(!0);c.useEffect(()=>{(async()=>{try{const{data:s,error:v}=await bt.from("memories").select("*").order("date",{ascending:!1});if(v)throw v;a(s||[])}catch(s){console.error("Error fetching memories:",s.message)}finally{p(!1)}})()},[]);const d=(i,s)=>{s!==null&&o(s)},u=r.reduce((i,s)=>{const x=new Date(s.date).toLocaleDateString("en-US",{year:"numeric",month:"long"});return i[x]||(i[x]=[]),i[x].push(s),i},{}),b=Object.keys(u).sort((i,s)=>new Date(s)-new Date(i));return n?e.jsx(ot,{children:e.jsxs(C,{sx:{mb:4},children:[e.jsx(_,{variant:"rectangular",width:210,height:40}),e.jsx(C,{sx:{mt:2},children:e.jsx(E,{container:!0,spacing:3,children:[1,2,3,4,5,6].map(i=>e.jsx(E,{item:!0,xs:12,sm:6,md:4,children:e.jsx(_,{variant:"rectangular",height:300})},i))})})]})}):e.jsx(ot,{children:e.jsxs(C,{sx:{mb:4},children:[e.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(M,{variant:"h4",component:"h1",children:"Memory Timeline"}),e.jsxs(te,{value:t,exclusive:!0,onChange:d,"aria-label":"view mode",children:[e.jsx(J,{value:"grid","aria-label":"grid view",children:e.jsx(ae,{})}),e.jsx(J,{value:"list","aria-label":"list view",children:e.jsx(re,{})}),e.jsx(J,{value:"timeline","aria-label":"timeline view",children:e.jsx(vt,{})})]})]}),r.length===0?e.jsx(mt,{sx:{p:4,textAlign:"center",borderRadius:2,bgcolor:"background.paper"},children:e.jsx(M,{variant:"h6",color:"text.secondary",children:"No memories found. Start creating memories to see them here!"})}):b.map(i=>e.jsxs(C,{sx:{mb:6},children:[e.jsx(M,{variant:"h5",sx:{mb:3,pb:1,borderBottom:"2px solid",borderColor:"primary.main",display:"inline-block"},children:i}),e.jsx(E,{container:!0,spacing:3,children:u[i].map(s=>e.jsx(E,{item:!0,xs:12,sm:t==="list"?12:6,md:t==="list"?12:4,children:e.jsx(oe,{memory:s,viewMode:t})},s.id))})]},i))]})})};export{xe as B,me as M};

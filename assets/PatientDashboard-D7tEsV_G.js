import{d as _,j as e,g as P,r as p,B as s,a2 as o,s as r,q as F,I as z,X as J,e as Z,v as ee,k as te,P as I,n as m,t as G,l as se,L as N,w as B}from"./index-CXEbI5Qv.js";import{s as Y}from"./server-pzl4AG_l.js";import{A as R}from"./AddPhotoAlternate-CfllXscA.js";import{T as re}from"./Timeline-CiHZRLg7.js";import{L as T}from"./LocationOn-C75YpRGj.js";import{P as ie}from"./People-Jros5Tob.js";import{M as oe,T as L}from"./TextSnippet-DrnGz0W2.js";import{B as O}from"./BreathingExercise-VZVqccj0.js";import{P as ne,a as U}from"./Pause-CjfEq-8D.js";import{C as ae,a as le}from"./CalendarToday-B0DX0b_s.js";import{A as xe}from"./index-Ddjj3efR.js";import{C as ce}from"./CalendarTodayOutlined-CQk05EeX.js";import{A as V}from"./ArrowForward-DbWWWHal.js";import{F as de}from"./FamilyRestroom-Df_PYJwT.js";import{C as me}from"./Container-Cq2we_GA.js";import{G as a}from"./Grid-DNk133Lp.js";import{S as W}from"./Stack-FC1uNKkY.js";import{C as X,a as q}from"./CardContent-CLYU36tH.js";const Q="/ReKindle/assets/cat-DJJ8aif4.jpg",pe=_(e.jsx("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"})),he=_(e.jsx("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"})),H=({children:h,onClick:g,direction:k})=>{const n=P().palette.mode==="dark";return e.jsx(z,{onClick:g,sx:{position:"absolute",top:"50%",transform:"translateY(-50%)",[k==="left"?"left":"right"]:{xs:4,sm:16},zIndex:2,bgcolor:n?"rgba(255, 255, 255, 0.2)":"rgba(255, 255, 255, 0.6)",boxShadow:n?"0 2px 8px rgba(0, 0, 0, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.08)","&:hover":{bgcolor:n?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.8)",transform:"translateY(-50%) scale(1.05)"},transition:"all 0.2s ease",color:n?"white":"text.secondary"},children:h})},ge=({memories:h=[],interval:g=5e3,autoPlay:k=!0,loading:l=!1})=>{const n=P(),[d,c]=p.useState(0),[x,f]=p.useState(k),b=[{id:1,title:"Sample Photo Memory",description:"This is a sample photo memory",date:new Date().toLocaleDateString(),content:Q,location:"Sample Location",type:"photo"},{id:2,title:"Sample Text Memory",description:"This is a sample text memory",date:new Date().toLocaleDateString(),content:"This is a sample text content for a memory. It could be a story, a recipe, or any other text-based memory that is worth preserving.",location:"Sample Location",type:"text"},{id:3,title:"Sample Voice Memory",description:"This is a sample voice memory",date:new Date().toLocaleDateString(),content:"voice-recording.mp3",location:"Sample Location",type:"voice"}],v=h.length>0?h:b,u=v[d];p.useEffect(()=>{let t;return x&&u&&(t=setTimeout(()=>{w()},g)),()=>clearTimeout(t)},[d,x,g,u]);const D=()=>{c(t=>t===0?v.length-1:t-1)},w=()=>{c(t=>t===v.length-1?0:t+1)},A=()=>{f(!x)},M=t=>{c(t)},j=t=>{if(!t)return null;const i=n.palette.mode==="dark";switch(t.type){case"photo":return e.jsx(s,{sx:{position:"relative",height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:e.jsxs(s,{sx:{position:"relative",flexGrow:1,overflow:"hidden"},children:[e.jsx(s,{component:"img",src:t.content,alt:t.title,sx:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsxs(s,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%)",padding:3,paddingTop:6,color:"white"},children:[e.jsx(r,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600},children:t.title}),e.jsx(r,{variant:"body1",gutterBottom:!0,children:t.description}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2,mt:1},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(ae,{sx:{fontSize:16,mr:.5,opacity:.9}}),e.jsx(r,{variant:"body2",children:t.date})]}),t.location&&e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(T,{sx:{fontSize:16,mr:.5,opacity:.9}}),e.jsx(r,{variant:"body2",children:t.location})]})]})]})]})});case"text":return e.jsxs(s,{sx:{height:"100%",display:"flex",flexDirection:"column",padding:4,background:i?`linear-gradient(135deg, ${o(n.palette.primary.dark,.2)}, ${o(n.palette.background.paper,.9)})`:`linear-gradient(135deg, ${o(n.palette.background.paper,.9)}, ${o(n.palette.primary.light,.2)})`,color:n.palette.text.primary},children:[e.jsx(L,{sx:{position:"absolute",top:20,right:20,fontSize:40,color:o(n.palette.primary.main,.2)}}),e.jsx(r,{variant:"h4",gutterBottom:!0,sx:{fontWeight:600,mt:4},children:t.title}),e.jsxs(r,{variant:"subtitle1",gutterBottom:!0,color:"text.secondary",children:[t.date," | ",t.location]}),e.jsx(s,{sx:{mt:2,mb:4},children:e.jsxs(r,{variant:"body1",sx:{lineHeight:1.7,fontSize:"1.1rem",fontStyle:"italic",color:"text.primary",overflow:"auto",maxHeight:200},children:['"',t.content,'"']})})]});case"voice":return e.jsxs(s,{sx:{height:"100%",display:"flex",flexDirection:"column",padding:4,justifyContent:"center",alignItems:"center",background:`linear-gradient(135deg, ${o(n.palette.info.light,.2)} 0%, ${o(n.palette.info.main,.1)} 100%)`,position:"relative"},children:[e.jsx(oe,{sx:{position:"absolute",top:20,right:20,fontSize:40,color:o(n.palette.info.main,.3)}}),e.jsx(r,{variant:"h4",gutterBottom:!0,sx:{fontWeight:600,textAlign:"center"},children:t.title}),e.jsxs(r,{variant:"subtitle1",gutterBottom:!0,color:"text.secondary",sx:{textAlign:"center",mb:4},children:[t.date," | ",t.location]}),e.jsx(J,{sx:{width:80,height:80,bgcolor:n.palette.info.main,boxShadow:"0 4px 20px rgba(0,0,0,0.15)",mb:2,"&:hover":{transform:"scale(1.05)",cursor:"pointer"},transition:"transform 0.2s ease"},children:e.jsx(U,{sx:{fontSize:40,color:"white"}})}),e.jsx(r,{variant:"body1",sx:{textAlign:"center",maxWidth:"80%"},children:t.description}),e.jsx(s,{sx:{display:"flex",gap:.5,alignItems:"flex-end",height:60,mt:4},children:[...Array(30)].map((y,C)=>e.jsx(s,{component:F.div,animate:{height:[Math.random()*10+5,Math.random()*30+10,Math.random()*15+5]},transition:{duration:1.4,repeat:1/0,repeatType:"reverse",delay:C*.05%.5},sx:{width:3,bgcolor:n.palette.info.main,opacity:.7,borderRadius:4}},C))})]});default:return null}};return l?e.jsx(s,{sx:{position:"relative",overflow:"hidden",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:t=>t.palette.mode==="dark"?o(t.palette.background.paper,.7):"#fff"},children:e.jsx(r,{variant:"h6",color:"text.secondary",children:"Loading memories..."})}):!l&&h.length===0?e.jsx(s,{sx:{position:"relative",overflow:"hidden",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:t=>t.palette.mode==="dark"?o(t.palette.background.paper,.7):"#fff"},children:e.jsx(r,{variant:"h6",color:"text.secondary",children:"No memories yet. Add your first memory!"})}):e.jsxs(s,{sx:{position:"relative",overflow:"hidden",width:"100%",height:"100%",bgcolor:t=>t.palette.mode==="dark"?o(t.palette.background.paper,.7):"#fff"},children:[e.jsx(H,{onClick:D,direction:"left",children:e.jsx(pe,{fontSize:"small"})}),e.jsx(s,{sx:{position:"relative",height:"100%",overflow:"hidden",width:"100%"},children:e.jsx(xe,{mode:"wait",children:u&&e.jsx(F.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5},style:{height:"100%",width:"100%"},children:j(u)},d)})}),e.jsx(H,{onClick:w,direction:"right",children:e.jsx(he,{fontSize:"small"})}),e.jsx(z,{onClick:A,sx:{position:"absolute",bottom:12,right:12,zIndex:2,bgcolor:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(4px)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)"}},children:x?e.jsx(ne,{}):e.jsx(U,{})}),e.jsx(s,{sx:{position:"absolute",bottom:12,left:"50%",transform:"translateX(-50%)",display:"flex",gap:1,zIndex:2},children:v.map((t,i)=>e.jsx(s,{component:"button",onClick:()=>M(i),sx:{width:i===d?24:12,height:4,borderRadius:"4px",border:"none",bgcolor:i===d?"white":"rgba(255, 255, 255, 0.5)",cursor:"pointer",padding:0,transition:"all 0.3s ease","&:hover":{bgcolor:"white",transform:"scaleY(1.3)"}}},i))})]})},fe={sm:576},Le=()=>{const h=Z(),[g,k]=p.useState(!1),{user:l}=ee(),[n,d]=p.useState(""),c=P(),x=c.palette.mode==="dark",f=te(`(max-width:${fe.sm}px)`),[b,v]=p.useState([]),[u,D]=p.useState([]);p.useEffect(()=>{(async()=>{try{const{data:{user:i},error:y}=await Y.auth.getUser();if(y||!i)throw new Error("User not authenticated");const{data:C,error:E}=await Y.from("memories").select("*").eq("user_id",i.id).order("date",{ascending:!1});if(E)throw E;v(C||[]);const K=C.filter(S=>S.location&&S.location.trim()!=="").reduce((S,$)=>(S.includes($.location)||S.push($.location),S),[]).slice(0,3);D(K)}catch(i){console.error("Error fetching memories:",i.message)}})()},[]);const w=()=>{h("/add-memory")},A=t=>{h(`/memory/${t}`)},M=()=>{k(!g)};p.useEffect(()=>{const t=()=>{const y=new Date().getHours();y>=17?d("Good evening!"):y>=12?d("Good afternoon!"):d("Good morning!")};t();const i=setInterval(t,60*1e3);return()=>clearInterval(i)},[]);const j={name:(l==null?void 0:l.name)||"Guest",email:(l==null?void 0:l.email)||"",familyMembers:(l==null?void 0:l.familyMembers)||[]};return e.jsx(s,{sx:{width:"100%",maxWidth:"100%",overflowX:"hidden"},children:e.jsx(me,{maxWidth:"lg",disableGutters:f,sx:{mt:{xs:2,sm:3},mb:{xs:4,sm:6},px:{xs:2,sm:3,md:4},boxSizing:"border-box",width:"100%",overflowX:"hidden"},children:e.jsxs(a,{container:!0,spacing:{xs:2,sm:3,md:4},children:[e.jsx(a,{xs:12,children:e.jsxs(I,{elevation:2,sx:{p:{xs:2,sm:3,md:4},mb:{xs:3,sm:4,md:5},borderRadius:3,background:x?`linear-gradient(90deg, ${o(c.palette.primary.dark,.8)} 0%, ${o(c.palette.primary.main,.6)} 100%)`:`linear-gradient(10deg, ${o(c.palette.primary.light,.95)} 0%, ${c.palette.primary.main} 100%)`,color:"#fff",overflow:"hidden",position:"relative",boxShadow:x?"0 10px 30px rgba(0, 0, 0, 0.3)":"0 10px 30px rgba(0, 0, 0, 0.15)",width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:[e.jsx(s,{sx:{position:"absolute",top:-20,right:-20,width:{xs:"150px",sm:"200px"},height:{xs:"150px",sm:"200px"},borderRadius:"50%",background:"rgba(255, 255, 255, 0.1)",zIndex:0,display:{xs:"none",sm:"block"}}}),e.jsx(s,{sx:{position:"absolute",bottom:-40,left:-40,width:{xs:"100px",sm:"150px"},height:{xs:"100px",sm:"150px"},borderRadius:"50%",background:"rgba(255, 255, 255, 0.05)",zIndex:0,display:{xs:"none",sm:"block"}}}),e.jsxs(a,{container:!0,spacing:{xs:2,sm:3},alignItems:"center",sx:{position:"relative",zIndex:1},children:[e.jsxs(a,{xs:12,sm:7,children:[e.jsxs(r,{variant:"h4",component:"h1",sx:{fontWeight:700,mb:1,display:"flex",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},fontSize:{xs:"1.5rem",sm:"1.8rem",md:"2.125rem"}},children:[n," ",e.jsx(s,{component:"span",sx:{pl:{xs:0,sm:1},fontWeight:400,opacity:.9},children:j.name})]}),e.jsx(r,{variant:"body1",sx:{mb:2,opacity:.9,fontSize:{xs:"0.9rem",sm:"1rem",md:"1.1rem"}},children:"Welcome to your memory dashboard. Ready to capture some new memories today?"}),e.jsxs(W,{direction:{xs:"column",sm:"row"},spacing:{xs:1,sm:2},sx:{width:"100%"},children:[e.jsx(m,{variant:"contained",onClick:w,startIcon:e.jsx(R,{}),fullWidth:f,sx:{bgcolor:"white",color:c.palette.primary.main,fontWeight:600,"&:hover":{bgcolor:"rgba(255,255,255,0.9)"}},children:"Add Memory"}),e.jsx(m,{variant:"outlined",color:"inherit",startIcon:e.jsx(G,{}),onClick:M,fullWidth:f,sx:{borderColor:"rgba(255,255,255,0.5)",fontWeight:600,"&:hover":{borderColor:"white",bgcolor:"rgba(255,255,255,0.1)"}},children:"Breathing Exercise"})]}),g&&e.jsx(s,{sx:{mt:3,maxWidth:"100%",overflow:"hidden"},children:e.jsx(O,{})})]}),e.jsx(a,{xs:12,sm:5,children:e.jsx(s,{sx:{display:"flex",justifyContent:{xs:"center",sm:"flex-end"},alignItems:"center",mt:{xs:3,sm:0},transform:{xs:"scale(1)",sm:"scale(1.1)"},transformOrigin:{xs:"center",sm:"right center"}},children:e.jsx(se,{size:f?"medium":"large",withLink:!1})})})]})]})}),e.jsx(a,{xs:12,children:e.jsxs(s,{sx:{mb:{xs:3,sm:4,md:5},width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,width:"100%",px:1},children:e.jsx(r,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:"Featured Memories"})}),e.jsxs(I,{elevation:2,sx:{borderRadius:3,overflow:"hidden",position:"relative",boxShadow:x?"0 10px 30px rgba(0, 0, 0, 0.3)":"0 10px 30px rgba(0, 0, 0, 0.15)",width:{xs:"100%",sm:"600px",md:"800px",lg:"900px"},height:{xs:300,sm:380,md:450,lg:500},maxWidth:"100%",boxSizing:"border-box"},children:[e.jsxs(s,{sx:{position:"absolute",top:10,left:10,zIndex:10,display:"flex",flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:2}},children:[e.jsx(m,{variant:"contained",color:"primary",startIcon:e.jsx(R,{}),onClick:w,size:f?"small":"medium",sx:{px:{xs:1,sm:2},py:{xs:.5,sm:1},borderRadius:2,boxShadow:"0 4px 10px rgba(0,0,0,0.15)",bgcolor:"primary.main",fontSize:{xs:"0.7rem",sm:"0.875rem"}},children:"Add Memory"}),e.jsx(m,{variant:"contained",color:"primary",startIcon:e.jsx(re,{}),component:N,to:"/patient/dashboard/timeline",size:f?"small":"medium",sx:{px:{xs:1,sm:2},py:{xs:.5,sm:1},borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.8)",color:"primary.main",boxShadow:"0 4px 10px rgba(0,0,0,0.15)","&:hover":{bgcolor:"white"},fontSize:{xs:"0.7rem",sm:"0.875rem"}},children:"View Timeline"})]}),e.jsx(ge,{memories:b})]})]})}),e.jsx(a,{xs:12,children:e.jsx(r,{variant:"h5",sx:{fontWeight:600,mb:2,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:"Dashboard Tools"})}),e.jsxs(a,{container:!0,spacing:{xs:2,sm:3},children:[e.jsx(a,{item:!0,xs:12,sm:4,sx:{display:"flex"},children:e.jsxs(I,{elevation:2,sx:{p:{xs:2,sm:3},borderRadius:3,height:"100%",width:"100%",bgcolor:t=>t.palette.background.paper,transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:x?"0 12px 20px rgba(0, 0, 0, 0.3)":"0 12px 20px rgba(0, 0, 0, 0.1)"}},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(r,{variant:"h6",sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"Recent Locations"}),e.jsx(z,{color:"primary",size:"small",sx:{bgcolor:t=>o(t.palette.primary.main,.1)},children:e.jsx(T,{})})]}),e.jsx(B,{sx:{mb:3}}),u.length>0?e.jsx(W,{spacing:2,children:u.map((t,i)=>e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1,p:1,borderRadius:1,"&:hover":{bgcolor:y=>o(y.palette.primary.main,.1)}},children:[e.jsx(T,{color:"primary",sx:{fontSize:20}}),e.jsx(r,{variant:"body1",sx:{fontSize:{xs:"0.9rem",sm:"1rem"}},children:t})]},i))}):e.jsx(r,{variant:"body2",color:"text.secondary",children:"No recent locations found"})]})}),e.jsx(a,{item:!0,xs:12,sm:4,sx:{display:"flex"},children:e.jsxs(I,{elevation:2,sx:{p:{xs:2,sm:3},borderRadius:3,height:"100%",width:"100%",bgcolor:t=>t.palette.background.paper,transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:x?"0 12px 20px rgba(0, 0, 0, 0.3)":"0 12px 20px rgba(0, 0, 0, 0.1)"}},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(r,{variant:"h6",sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"Family Members"}),e.jsx(z,{color:"primary",size:"small",sx:{bgcolor:t=>o(t.palette.primary.main,.1)},children:e.jsx(ie,{})})]}),e.jsx(B,{sx:{mb:3}}),e.jsxs(W,{spacing:2,children:[(j==null?void 0:j.familyMembers.length)>0?j.familyMembers.map(t=>e.jsx(X,{variant:"outlined",sx:{borderRadius:2,boxShadow:"none",bgcolor:i=>i.palette.background.paper,transition:"all 0.3s ease","&:hover":{borderColor:"primary.main",bgcolor:i=>o(i.palette.primary.main,.05)}},children:e.jsx(q,{sx:{p:2,"&:last-child":{pb:2}},children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(J,{sx:{width:32,height:32,mr:1,bgcolor:i=>i.palette.primary.main,fontSize:"0.875rem"},children:t.name.charAt(0)}),e.jsx(s,{children:e.jsx(r,{variant:"body1",sx:{fontSize:{xs:"0.9rem",sm:"1rem"}},children:t.name})})]}),e.jsx(z,{size:"small",children:e.jsx(V,{fontSize:"small"})})]})})},t.name)):e.jsx(r,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"No family members found."}),e.jsx(m,{variant:"text",size:"small",sx:{alignSelf:"center",mt:1},children:"Manage Family"})]})]})}),e.jsx(a,{item:!0,xs:12,sm:4,sx:{display:"flex"},children:e.jsxs(I,{elevation:2,sx:{p:{xs:2,sm:3},borderRadius:3,height:"100%",width:"100%",transition:"transform 0.3s ease, box-shadow 0.3s ease",bgcolor:t=>t.palette.background.paper,"&:hover":{transform:"translateY(-5px)",boxShadow:x?"0 12px 20px rgba(0, 0, 0, 0.3)":"0 12px 20px rgba(0, 0, 0, 0.1)"}},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(r,{variant:"h6",sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"Quick Actions"}),e.jsx(z,{color:"primary",size:"small",sx:{bgcolor:t=>o(t.palette.primary.main,.1)},children:e.jsx(R,{})})]}),e.jsx(B,{sx:{mb:3}}),e.jsxs(W,{spacing:2,children:[e.jsx(m,{variant:"outlined",color:"primary",startIcon:e.jsx(R,{}),onClick:w,fullWidth:!0,sx:{justifyContent:"flex-start",py:1.5,borderRadius:2,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:"Create New Memory"}),e.jsx(m,{variant:"outlined",color:"secondary",startIcon:e.jsx(G,{}),onClick:M,fullWidth:!0,sx:{justifyContent:"flex-start",py:1.5,borderRadius:2,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:"Breathing Exercise"}),e.jsx(m,{variant:"outlined",color:"info",startIcon:e.jsx(de,{}),fullWidth:!0,sx:{justifyContent:"flex-start",py:1.5,borderRadius:2,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:"Family Connections"})]}),g&&e.jsx(s,{sx:{mt:3},children:e.jsx(O,{})})]})})]}),e.jsx(a,{xs:12,sx:{mt:4},children:e.jsxs(I,{elevation:2,sx:{p:{xs:2,sm:3},borderRadius:3,transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:{xs:"none",sm:"translateY(-5px)"},boxShadow:x?"0 12px 20px rgba(0, 0, 0, 0.3)":"0 12px 20px rgba(0, 0, 0, 0.1)"},width:"100%",maxWidth:"100%"},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:0}},children:[e.jsx(r,{variant:"h6",sx:{fontSize:{xs:"1.1rem",sm:"1.25rem"},alignSelf:{xs:"flex-start",sm:"center"}},children:"Recent Memories"}),e.jsx(m,{variant:"outlined",size:"small",endIcon:e.jsx(V,{}),component:N,to:"/patient/dashboard/timeline",sx:{borderRadius:2,alignSelf:{xs:"flex-end",sm:"center"}},children:"View All"})]}),e.jsx(a,{container:!0,spacing:{xs:2,sm:3},children:(b==null?void 0:b.length)>0?b.slice(0,3).map(t=>e.jsx(a,{xs:12,sm:6,md:4,sx:{display:"flex"},children:e.jsxs(X,{sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column",borderRadius:2,cursor:"pointer",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:i=>`0 8px 16px ${o(i.palette.primary.main,.15)}`}},onClick:()=>A(t.id),children:[t.type==="text"?e.jsxs(s,{sx:{p:3,bgcolor:o("#9c27b0",.05),height:{xs:"120px",sm:"140px"},display:"flex",alignItems:"flex-start",justifyContent:"center",flexDirection:"column",position:"relative",overflow:"hidden"},children:[e.jsx(L,{sx:{fontSize:{xs:24,sm:30},color:o("#9c27b0",.6),mb:2}}),e.jsxs(r,{variant:"body1",color:"text.primary",sx:{fontStyle:"italic",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",fontSize:{xs:"0.875rem",sm:"1rem"}},children:['"',t.content,'"']}),e.jsx(s,{sx:{position:"absolute",top:10,right:10,bgcolor:"rgba(255, 255, 255, 0.8)",borderRadius:"50%",p:.5},children:e.jsx(L,{color:"primary",fontSize:"small"})})]}):e.jsx(le,{component:"img",image:t.content||Q,alt:t.title||"Memory",sx:{height:{xs:120,sm:140},objectFit:"cover"}}),e.jsxs(q,{sx:{flexGrow:1},children:[e.jsx(r,{variant:"h6",component:"div",gutterBottom:!0,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:t.title||"Untitled Memory"}),e.jsxs(r,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center",mb:1,fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:[e.jsx(ce,{fontSize:"inherit",sx:{mr:.5}}),t.date||"Unknown Date"]}),e.jsx(r,{variant:"body2",color:"text.secondary",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:t.description||"No description available."})]})]})},t.id)):e.jsx(a,{xs:12,children:e.jsx(r,{variant:"body1",color:"text.secondary",sx:{m:2},children:"No memories found."})})})]})})]})})})};export{Le as default};

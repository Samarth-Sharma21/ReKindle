const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/landingPage-DnhQVkEn.js","assets/vendor-BpQ4GIZC.js","assets/addMemory-C0-Amh-w.js","assets/PatientLogin-DQz5kFq6.js","assets/FamilyLogin-q7YOmwxw.js","assets/PatientRegister-Dc0wzkU7.js","assets/FamilyRegister-CGJaQlHU.js","assets/ForgotPassword-auCaaNZ4.js","assets/patientDashboard-FnrxhtOp.js","assets/FamilyDashboard-8mC5tGOk.js","assets/PatientTimeline-nc1hoZ6o.js","assets/FamilyTimeline-qyJIatTg.js","assets/MemoryDetails-B9orIyQQ.js","assets/helpcenter-C6OpclUX.js","assets/BreathingGame-BZO7_oN_.js","assets/Settings-BX0LkiAt.js","assets/PricingPage-E-xVw9QE.js","assets/SavedLocations-BSdUGi0o.js"])))=>i.map(i=>d[i]);
import{h as Ze,i as et,r,j as e,k as tt,l as He,m as le,B as o,n as Ue,T as d,o as V,s as $,p as rt,q as ot,t as k,D as ue,v as me,w as nt,x as X,y as ge,z as it,E as Ne,F as O,G as oe,H as Q,I as ne,a as R,J as Ce,K as E,M as at,N as te,O as st,Q as lt,R as ke,U as $e,V as D,W as ct,X as dt,Y as xt,Z as ht,_ as pt,$ as ut,a0 as mt,a1 as gt,a2 as he,a3 as ft,a4 as bt,a5 as F,a6 as fe,a7 as yt,u as Ve,C as ie,a8 as ce,a9 as be,aa as ae,ab as jt,ac as vt,ad as wt,ae as St,g as re,L as Z,af as Ye,ag as J,ah as G,ai as pe,aj as K,P as B,ak as Ge,al as _,am as Ct,an as de,ao as kt,ap as It,aq as Tt,ar as Ie,as as Te,at as Le,au as N,av as ye,aw as je,b as ee,ax as Lt,ay as Pt,az as qe,f as Et,aA as ve,aB as Ft,aC as At,aD as Pe,aE as Ke,aF as zt,aG as Rt,aH as Mt,aI as _t,aJ as Dt,aK as Ot,aL as Bt,aM as Wt,aN as Ht,aO as Ut,aP as Nt,aQ as $t,aR as Vt,aS as Ee,aT as Fe,aU as Ae,aV as ze,aW as Yt,aX as Gt,aY as qt}from"./vendor-BpQ4GIZC.js";import{u as Je,A as Kt,M as Jt,s as Y}from"./addMemory-C0-Amh-w.js";import"./index-AR_LmOrU.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))h(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&h(c)}).observe(document,{childList:!0,subtree:!0});function a(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function h(i){if(i.ep)return;i.ep=!0;const s=a(i);fetch(i.href,s)}})();const Xt="modulepreload",Qt=function(t){return"/ReKindle/"+t},Re={},z=function(n,a,h){let i=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),p=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=Promise.allSettled(a.map(x=>{if(x=Qt(x),x in Re)return;Re[x]=!0;const g=x.endsWith(".css"),u=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${u}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":Xt,g||(y.as="script"),y.crossOrigin="",y.href=x,p&&y.setAttribute("nonce",p),document.head.appendChild(y),g)return new Promise((w,S)=>{y.addEventListener("load",w),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${x}`)))})}))}function s(c){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=c,window.dispatchEvent(p),!p.defaultPrevented)throw c}return i.then(c=>{for(const p of c||[])p.status==="rejected"&&s(p.reason);return n().catch(s)})},Zt={palette:{mode:"light",primary:{main:"#FF8A00",light:"#FFA84D",dark:"#E67800",contrastText:"#FFFFFF"},secondary:{main:"#FFBD00",light:"#FFDD4D",dark:"#E6A800",contrastText:"#FFFFFF"},background:{default:"#FFFFFF",paper:"#FFFFFF",card:"#FFFFFF",subtle:"#FFF9EE"},text:{primary:"#333333",secondary:"#666666",disabled:"#999999"},divider:"rgba(255, 138, 0, 0.12)",action:{active:"#FF8A00",hover:"rgba(255, 138, 0, 0.08)",selected:"rgba(255, 138, 0, 0.16)",disabled:"rgba(0, 0, 0, 0.3)",disabledBackground:"rgba(0, 0, 0, 0.08)"}}},er={palette:{mode:"dark",primary:{main:"#FFA84D",light:"#FFBD6B",dark:"#E67800",contrastText:"#FFFFFF"},secondary:{main:"#FFDD4D",light:"#FFEB80",dark:"#E6A800",contrastText:"#333333"},background:{default:"#111111",paper:"#1E1E1E",card:"#252525",subtle:"#333333"},text:{primary:"#FFFFFF",secondary:"#EEEEEE",disabled:"#AAAAAA"},divider:"rgba(255, 138, 0, 0.24)",action:{active:"#FFA84D",hover:"rgba(255, 168, 77, 0.16)",selected:"rgba(255, 168, 77, 0.24)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}}},tr={typography:{fontFamily:'"Nunito", "Roboto", sans-serif',logoText:{fontFamily:'"Playfair Display", serif',fontWeight:600,letterSpacing:"0.02em"},h1:{fontSize:"2.5rem",fontWeight:700,lineHeight:1.2,letterSpacing:"-0.01em","@media (min-width:600px)":{fontSize:"3rem"}},h2:{fontSize:"2rem",fontWeight:700,lineHeight:1.2,letterSpacing:"-0.01em","@media (min-width:600px)":{fontSize:"2.5rem"}},h3:{fontSize:"1.5rem",fontWeight:600,lineHeight:1.3,"@media (min-width:600px)":{fontSize:"1.75rem"}},h4:{fontSize:"1.25rem",fontWeight:600,lineHeight:1.4,"@media (min-width:600px)":{fontSize:"1.4rem"}},h5:{fontSize:"1.1rem",fontWeight:600,lineHeight:1.5},h6:{fontSize:"1rem",fontWeight:600,lineHeight:1.5},subtitle1:{fontSize:"1rem",fontWeight:500,lineHeight:1.5},subtitle2:{fontSize:"0.875rem",fontWeight:500,lineHeight:1.57},body1:{fontSize:"1rem",fontWeight:400,lineHeight:1.6},body2:{fontSize:"0.875rem",fontWeight:400,lineHeight:1.57},button:{fontSize:"0.875rem",fontWeight:500,lineHeight:1.57,textTransform:"none"},caption:{fontSize:"0.75rem",fontWeight:400,lineHeight:1.5},overline:{fontSize:"0.75rem",fontWeight:600,lineHeight:1.5,textTransform:"uppercase",letterSpacing:"1px"}},shape:{borderRadius:12},shadows:["none","0 1px 2px 0 rgba(255, 138, 0, 0.05)","0 1px 4px 0 rgba(255, 138, 0, 0.08)","0 1px 8px 0 rgba(255, 138, 0, 0.08)","0 2px 16px -1px rgba(255, 138, 0, 0.08)","0 3px 5px -1px rgba(255, 138, 0, 0.08), 0 3px 4px -1px rgba(255, 138, 0, 0.04)","0 3px 5px -1px rgba(255, 138, 0, 0.1), 0 5px 8px -1px rgba(255, 138, 0, 0.08)","0 4px 5px -2px rgba(255, 138, 0, 0.1), 0 7px 10px -2px rgba(255, 138, 0, 0.06)","0 5px 6px -3px rgba(255, 138, 0, 0.1), 0 9px 12px -3px rgba(255, 138, 0, 0.06)","0 6px 6px -3px rgba(255, 138, 0, 0.1), 0 11px 12px -3px rgba(255, 138, 0, 0.06)","0 6px 7px -4px rgba(255, 138, 0, 0.1), 0 11px 15px -4px rgba(255, 138, 0, 0.08)","0 7px 8px -4px rgba(255, 138, 0, 0.1), 0 13px 19px -4px rgba(255, 138, 0, 0.08)","0 8px 9px -5px rgba(255, 138, 0, 0.1), 0 15px 22px -5px rgba(255, 138, 0, 0.08)","0 8px 10px -5px rgba(255, 138, 0, 0.1), 0 16px 24px -5px rgba(255, 138, 0, 0.08)","0 8px 12px -6px rgba(255, 138, 0, 0.1), 0 18px 28px -6px rgba(255, 138, 0, 0.08)","0 9px 12px -6px rgba(255, 138, 0, 0.1), 0 19px 29px -6px rgba(255, 138, 0, 0.08)","0 10px 14px -6px rgba(255, 138, 0, 0.12), 0 22px 35px -6px rgba(255, 138, 0, 0.1)","0 11px 15px -7px rgba(255, 138, 0, 0.12), 0 24px 38px -7px rgba(255, 138, 0, 0.1)","0 12px 17px -8px rgba(255, 138, 0, 0.14), 0 24px 38px -8px rgba(255, 138, 0, 0.11)"],components:{MuiCssBaseline:{styleOverrides:{body:{scrollbarWidth:"thin","&::-webkit-scrollbar":{width:"6px",height:"6px"},"&::-webkit-scrollbar-track":{background:"var(--scrollbar-track, #f1f1f1)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"var(--scrollbar-thumb, rgba(255, 138, 0, 0.3))",borderRadius:"20px"}}}},MuiContainer:{styleOverrides:{root:{paddingTop:24,paddingBottom:24}}},MuiButton:{styleOverrides:{root:{borderRadius:12,padding:"10px 20px",boxShadow:"none","&:hover":{boxShadow:"0 4px 10px 0 rgba(255, 138, 0, 0.2)",transform:"translateY(-2px)"},transition:"all 0.2s ease-in-out"},contained:{"&:hover":{boxShadow:"0 6px 12px 0 rgba(255, 138, 0, 0.25)"}}}},MuiCard:{styleOverrides:{root:{borderRadius:16,boxShadow:"0 2px 12px 0 rgba(255, 138, 0, 0.08)",overflow:"hidden",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{boxShadow:"0 8px 20px 0 rgba(255, 138, 0, 0.15)",transform:"translateY(-3px)"}}}},MuiPaper:{styleOverrides:{root:{borderRadius:16},elevation1:{boxShadow:"0 1px 4px 0 rgba(255, 138, 0, 0.08)"},elevation2:{boxShadow:"0 2px 8px 0 rgba(255, 138, 0, 0.12)"},elevation3:{boxShadow:"0 3px 12px 0 rgba(255, 138, 0, 0.15)"}}},MuiTypography:{styleOverrides:{gutterBottom:{marginBottom:"1em"}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"0 2px 8px 0 rgba(255, 138, 0, 0.1)"}}},MuiDivider:{styleOverrides:{root:{borderColor:"rgba(255, 138, 0, 0.12)"}}}}},Xe=t=>{const a=Ze({...t==="dark"?er:Zt,...tr});return et(a)};Xe("light");const Qe=r.createContext({mode:"light",toggleTheme:()=>{}}),rr=()=>r.useContext(Qe),or=({children:t})=>{const n=()=>localStorage.getItem("theme-mode")||"light",[a,h]=r.useState(n),i=Xe(a),s=()=>{const p=a==="light"?"dark":"light";h(p),localStorage.setItem("theme-mode",p)};r.useEffect(()=>{document.documentElement.style.setProperty("--scrollbar-track",a==="dark"?"#333":"#f1f1f1"),document.documentElement.style.setProperty("--scrollbar-thumb",a==="dark"?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.2)")},[a]);const c={mode:a,toggleTheme:s};return e.jsx(Qe.Provider,{value:c,children:e.jsxs(tt,{theme:i,children:[e.jsx(He,{}),t]})})},xe=({size:t="medium",linkTo:n="/",withLink:a=!0})=>{const h=le(),i={small:"h3",medium:"h2",large:"h1",extraLarge:{fontSize:"10rem",lineHeight:1.1}},s={small:{fontSize:36},medium:{fontSize:48},large:{fontSize:60},extraLarge:{fontSize:72}},c=e.jsxs(o,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row"},children:[e.jsx(Ue,{sx:{color:h.palette.primary.main,mr:1.5,...s[t]}}),e.jsxs(d,{variant:t==="extraLarge"?void 0:i[t],sx:{...t==="extraLarge"?i.extraLarge:{},fontFamily:'"Playfair Display", serif',fontWeight:700,background:"linear-gradient(90deg, #FF5252 0%, #FF7B50 50%, #FF3D00 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",display:"flex",alignItems:"center",justifyContent:"center",letterSpacing:"0.03em"},children:[e.jsx("span",{style:{fontWeight:800},children:"R"}),"e",e.jsx("span",{style:{fontWeight:800},children:"K"}),"indle"]})]});return a?e.jsx(o,{component:V,to:n,sx:{textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:c}):e.jsx(o,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:c})},se=260,nr=$(rt)(({theme:t})=>({display:"flex",alignItems:"center",justifyContent:"space-between",padding:t.spacing(0,3),height:60,[t.breakpoints.up("sm")]:{height:65}})),ir=$(ot)(({theme:t,visible:n})=>({zIndex:t.zIndex.drawer+1,background:t.palette.mode==="dark"?k(t.palette.background.paper,.9):"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",boxShadow:n?t.palette.mode==="dark"?"0 1px 8px 0 rgba(0, 0, 0, 0.3)":"0 1px 8px 0 rgba(0, 0, 0, 0.15)":"0 1px 3px 0 rgba(0, 0, 0, 0.1)",color:t.palette.mode==="dark"?t.palette.primary.main:t.palette.text.primary,borderBottom:`1px solid ${n?t.palette.divider:"transparent"}`,position:"fixed",top:0,transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",transform:n?"translateY(0)":"translateY(-100%)"})),ar=$(ue)(({theme:t})=>({width:se,flexShrink:0,"& .MuiDrawer-paper":{width:se,boxSizing:"border-box",border:"none",background:t.palette.mode==="dark"?k(t.palette.background.paper,.95):k(t.palette.background.paper,.95),boxShadow:t.palette.mode==="dark"?"0 0 20px rgba(0, 0, 0, 0.2)":"0 0 20px rgba(0, 0, 0, 0.05)",overflowX:"hidden","&::-webkit-scrollbar":{width:"6px",backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:k(t.palette.primary.main,.2),borderRadius:"10px"},"&::-webkit-scrollbar-thumb:hover":{backgroundColor:k(t.palette.primary.main,.4)},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"}}})),sr=$(o)(({theme:t})=>({display:"flex",alignItems:"center",gap:t.spacing(1)})),Me=$(me)(({theme:t})=>({padding:t.spacing(.25,1),margin:t.spacing(.25,1),borderRadius:t.shape.borderRadius})),_e=$(nt)(({theme:t,active:n})=>({borderRadius:t.shape.borderRadius*3,padding:t.spacing(.8,1.8),transition:"all 0.3s ease",backgroundColor:n?k(t.palette.primary.main,.12):"transparent","&:hover":{backgroundColor:n?k(t.palette.primary.main,.18):k(t.palette.primary.main,.08),transform:"translateY(-2px)",boxShadow:n?"0 4px 8px rgba(0, 0, 0, 0.05)":"none"}})),De=$(X)(({theme:t,active:n})=>({minWidth:40,color:n?t.palette.primary.main:t.palette.text.secondary})),Oe=$(ge)(({theme:t,active:n})=>({"& .MuiTypography-root":{fontWeight:n?600:400,fontSize:"0.95rem",color:n?t.palette.primary.main:t.palette.text.primary}})),Be=$(o)(({theme:t})=>({padding:t.spacing(.75,1),marginBottom:t.spacing(.5),"& .MuiTypography-root":{fontSize:"0.7rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",color:t.palette.text.secondary,opacity:.7}})),lr=()=>{var W,we,Se;const t=le(),{mode:n,toggleTheme:a}=rr(),h=it(t.breakpoints.down("md")),[i,s]=r.useState(!1),[c,p]=r.useState(null),[x,g]=r.useState(!0),[u,y]=r.useState(0),[w,S]=r.useState(!1),v=Ne(),{user:f,logout:C}=Je();r.useEffect(()=>{const I=()=>{const q=window.scrollY;Math.abs(q-u)<10||(q<30?(g(!0),S(!1)):q>u?(g(!1),S(!0)):(g(!0),S(q>100)),y(q))},H=()=>{window.headerScrollTimeout||(window.headerScrollTimeout=setTimeout(()=>{I(),window.headerScrollTimeout=null},100))};return window.addEventListener("scroll",H),()=>{window.removeEventListener("scroll",H),clearTimeout(window.headerScrollTimeout),window.headerScrollTimeout=null}},[u]);const l=()=>{s(!i)},b=()=>{h&&s(!1)},T=I=>{p(I.currentTarget)},j=()=>{p(null)},m=()=>{j(),C()},M=((f==null?void 0:f.type)||"patient")==="patient",A=[{text:M?"Dashboard":"Family Dashboard",icon:e.jsx(xt,{}),path:M?"/patient/dashboard":"/family/dashboard"},{text:"Timeline",icon:e.jsx(ht,{}),path:M?"/patient/dashboard/timeline":"/family/dashboard/timeline"},{text:"Add Memory",icon:e.jsx(ke,{}),path:"/add-memory"},{text:"Saved Locations",icon:e.jsx(pt,{}),path:"/saved-locations"},{text:"Breathing Exercise",icon:e.jsx(ut,{}),path:"/breathing-game"},{text:"Help Center",icon:e.jsx(mt,{}),path:"/help"},{text:"Settings",icon:e.jsx(gt,{}),path:"/settings"}],P=e.jsxs(o,{sx:{mt:{xs:0,md:5},py:.5,height:"100%",display:"flex",flexDirection:"column"},children:[e.jsx(o,{sx:{px:3,mb:1,display:{xs:"block",md:"none"}},children:e.jsx(o,{component:V,to:"/",sx:{textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"flex-start"},children:e.jsx(xe,{size:"medium",withLink:!1})})}),e.jsx(Be,{children:w?e.jsx(o,{sx:{px:2,mb:0,mt:-4},children:e.jsx(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},children:e.jsx(xe,{size:"medium",withLink:!1})})}):null}),e.jsx(oe,{component:"nav",sx:{px:1},children:A.slice(0,3).map(I=>{const H=v.pathname===I.path;return e.jsx(Me,{disablePadding:!0,children:e.jsxs(_e,{component:V,to:I.path,onClick:b,active:H?1:0,children:[e.jsx(De,{active:H?1:0,children:I.icon}),e.jsx(Oe,{active:H?1:0,primary:I.text})]})},I.text)})}),e.jsx(Be,{children:e.jsx(d,{sx:{px:3,mb:.5},children:"Support"})}),e.jsx(oe,{component:"nav",sx:{px:1},children:A.slice(3).map(I=>{const H=v.pathname===I.path;return e.jsx(Me,{disablePadding:!0,children:e.jsxs(_e,{component:V,to:I.path,onClick:b,active:H?1:0,children:[e.jsx(De,{active:H?1:0,children:I.icon}),e.jsx(Oe,{active:H?1:0,primary:I.text})]})},I.text)})}),e.jsxs(o,{sx:{mt:"auto",px:3,pb:2},children:[e.jsx(Q,{sx:{my:1,opacity:.6}}),f&&e.jsxs(o,{component:V,to:"/settings",sx:{display:"flex",alignItems:"center",mb:2,px:2,py:1.5,borderRadius:3,transition:"all 0.3s ease",textDecoration:"none",color:"inherit","&:hover":{backgroundColor:k(t.palette.primary.main,.08)}},children:[e.jsx(ne,{sx:{bgcolor:t.palette.primary.main,mr:2,width:40,height:40,boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:((W=f==null?void 0:f.name)==null?void 0:W.charAt(0))||((we=f==null?void 0:f.email)==null?void 0:we.charAt(0))||"U"}),e.jsxs(o,{sx:{overflow:"hidden"},children:[e.jsx(d,{variant:"subtitle2",noWrap:!0,sx:{fontWeight:600},children:(f==null?void 0:f.name)||"User"}),e.jsx(d,{variant:"caption",color:"text.secondary",noWrap:!0,children:(f==null?void 0:f.email)||"user@example.com"})]})]}),e.jsx(R,{fullWidth:!0,variant:"outlined",color:"primary",startIcon:e.jsx(Ce,{}),onClick:C,sx:{borderRadius:3,mt:1,py:1.2,textTransform:"none",fontWeight:500,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)","&:hover":{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",transform:"translateY(-2px)"},transition:"all 0.3s ease"},children:"Logout"})]})]});return e.jsxs(o,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[e.jsx(He,{}),e.jsx(ir,{visible:x,sx:{zIndex:I=>I.zIndex.drawer+2},children:e.jsxs(nr,{children:[e.jsxs(sr,{children:[e.jsx(E,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:l,sx:{mr:1,display:{md:"none"}},children:e.jsx(at,{})}),e.jsx(o,{sx:{textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"flex-start",color:n==="dark"?"primary.main":"inherit","&:hover":{opacity:.85},transform:"scale(1.2)",transformOrigin:"left center",mx:{xs:2,sm:0}},children:e.jsx(xe,{size:"medium",withLink:!0})})]}),e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(te,{title:`Switch to ${n==="light"?"Dark":"Light"} Mode`,children:e.jsx(E,{onClick:a,color:"inherit",sx:{mr:1,color:n==="dark"?"primary.main":"text.secondary"},children:n==="dark"?e.jsx(st,{}):e.jsx(lt,{})})}),e.jsx(te,{title:"Add Memory",children:e.jsx(E,{component:V,to:"/add-memory",color:"primary",sx:{display:{xs:"flex",md:"none"},bgcolor:I=>k(I.palette.primary.main,.1),"&:hover":{bgcolor:I=>k(I.palette.primary.main,.2)}},children:e.jsx(ke,{})})}),e.jsx(te,{title:"Account settings",children:e.jsx(E,{onClick:T,size:"small",sx:{ml:1,border:"1px solid",borderColor:"divider",borderRadius:2,bgcolor:"background.paper","&:hover":{bgcolor:I=>k(I.palette.primary.main,.05)}},"aria-controls":c?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":c?"true":void 0,children:e.jsx(ne,{sx:{width:36,height:36,bgcolor:I=>I.palette.primary.main,fontSize:"1rem",fontWeight:600},children:((Se=f==null?void 0:f.name)==null?void 0:Se.charAt(0))||"U"})})})]}),e.jsxs($e,{anchorEl:c,id:"account-menu",open:!!c,onClose:j,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},PaperProps:{elevation:2,sx:{overflow:"visible",borderRadius:2,mt:1.5,width:220,"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},children:[e.jsxs(o,{sx:{pt:2,pb:1,px:2},children:[e.jsx(d,{variant:"subtitle1",sx:{fontWeight:600},children:f==null?void 0:f.name}),e.jsx(d,{variant:"body2",color:"text.secondary",children:f==null?void 0:f.email})]}),e.jsx(Q,{}),e.jsxs(D,{component:V,to:"/settings",onClick:j,children:[e.jsx(X,{children:e.jsx(ct,{fontSize:"small"})}),e.jsx(d,{variant:"body2",children:"Account Settings"})]}),e.jsxs(D,{onClick:m,children:[e.jsx(X,{children:e.jsx(Ce,{fontSize:"small"})}),e.jsx(d,{variant:"body2",children:"Logout"})]})]})]})}),e.jsx(o,{component:"nav",sx:{zIndex:I=>I.zIndex.drawer+1},children:h?e.jsx(ue,{variant:"temporary",open:i,onClose:l,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{width:se,boxSizing:"border-box",mt:"65px",top:0,height:"calc(100% - 65px)"}},children:P}):e.jsx(ar,{variant:"permanent",sx:{display:{xs:"none",md:"block"}},open:!0,children:P})}),e.jsx(o,{component:"main",sx:{flexGrow:1,p:0,width:{md:`calc(100% - ${se}px)`},minHeight:"100vh",pt:{xs:"70px",sm:"75px"},transition:"padding-top 0.3s ease"},children:e.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},style:{minHeight:"100%"},children:e.jsx(dt,{})})})]})},U=({children:t,userType:n})=>{const{isAuthenticated:a,user:h}=Je(),i=Ne();if(!a){const s=(h==null?void 0:h.type)==="patient"?"/patient/login":"/family/login";return e.jsx(he,{to:s,state:{from:i},replace:!0})}if(n==="any")return t;if(h.type!==n){const s=h.type==="patient"?"/patient/dashboard":"/family/dashboard";return e.jsx(he,{to:s,replace:!0})}return t},cr=r.lazy(()=>z(()=>import("./landingPage-DnhQVkEn.js").then(t=>t.L),__vite__mapDeps([0,1,2]))),dr=r.lazy(()=>z(()=>import("./PatientLogin-DQz5kFq6.js"),__vite__mapDeps([3,1,2,0]))),xr=r.lazy(()=>z(()=>import("./FamilyLogin-q7YOmwxw.js"),__vite__mapDeps([4,1,2,0]))),hr=r.lazy(()=>z(()=>import("./PatientRegister-Dc0wzkU7.js"),__vite__mapDeps([5,1,2]))),pr=r.lazy(()=>z(()=>import("./FamilyRegister-CGJaQlHU.js"),__vite__mapDeps([6,1,2]))),ur=r.lazy(()=>z(()=>import("./ForgotPassword-auCaaNZ4.js"),__vite__mapDeps([7,1,2]))),mr=r.lazy(()=>z(()=>import("./patientDashboard-FnrxhtOp.js"),__vite__mapDeps([8,1,2]))),gr=r.lazy(()=>z(()=>import("./FamilyDashboard-8mC5tGOk.js"),__vite__mapDeps([9,1,2]))),fr=r.lazy(()=>z(()=>import("./PatientTimeline-nc1hoZ6o.js"),__vite__mapDeps([10,1,2]))),br=r.lazy(()=>z(()=>import("./FamilyTimeline-qyJIatTg.js"),__vite__mapDeps([11,1,2]))),yr=r.lazy(()=>z(()=>import("./addMemory-C0-Amh-w.js").then(t=>t.a),__vite__mapDeps([2,1]))),jr=r.lazy(()=>z(()=>import("./MemoryDetails-B9orIyQQ.js"),__vite__mapDeps([12,1,2]))),vr=r.lazy(()=>z(()=>import("./helpcenter-C6OpclUX.js"),__vite__mapDeps([13,1,2]))),wr=r.lazy(()=>z(()=>import("./BreathingGame-BZO7_oN_.js"),__vite__mapDeps([14,1,2]))),Sr=r.lazy(()=>z(()=>import("./Settings-BX0LkiAt.js"),__vite__mapDeps([15,1,2]))),Cr=r.lazy(()=>z(()=>import("./PricingPage-E-xVw9QE.js"),__vite__mapDeps([16,1,2]))),kr=r.lazy(()=>z(()=>import("./SavedLocations-BSdUGi0o.js"),__vite__mapDeps([17,1,2]))),Ir=()=>e.jsx(o,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:e.jsx(fe,{color:"primary"})});function Tr(){return e.jsx(or,{children:e.jsx(ft,{children:e.jsx(Kt,{children:e.jsx(Jt,{children:e.jsx(r.Suspense,{fallback:e.jsx(Ir,{}),children:e.jsxs(bt,{children:[e.jsx(F,{path:"/",element:e.jsx(cr,{})}),e.jsx(F,{path:"/patient/login",element:e.jsx(dr,{})}),e.jsx(F,{path:"/family/login",element:e.jsx(xr,{})}),e.jsx(F,{path:"/patient/register",element:e.jsx(hr,{})}),e.jsx(F,{path:"/family/register",element:e.jsx(pr,{})}),e.jsx(F,{path:"/forgot-password",element:e.jsx(ur,{})}),e.jsx(F,{path:"/pricing",element:e.jsx(Cr,{})}),e.jsxs(F,{element:e.jsx(lr,{}),children:[e.jsx(F,{path:"/patient/dashboard",element:e.jsx(U,{userType:"patient",children:e.jsx(mr,{})})}),e.jsx(F,{path:"/patient/dashboard/timeline",element:e.jsx(U,{userType:"patient",children:e.jsx(fr,{})})}),e.jsx(F,{path:"/family/dashboard",element:e.jsx(U,{userType:"family",children:e.jsx(gr,{})})}),e.jsx(F,{path:"/family/dashboard/timeline",element:e.jsx(U,{userType:"family",children:e.jsx(br,{})})}),e.jsx(F,{path:"/add-memory",element:e.jsx(U,{userType:"any",children:e.jsx(yr,{})})}),e.jsx(F,{path:"/memory/:id",element:e.jsx(U,{userType:"any",children:e.jsx(jr,{})})}),e.jsx(F,{path:"/help",element:e.jsx(U,{userType:"any",children:e.jsx(vr,{})})}),e.jsx(F,{path:"/breathing-game",element:e.jsx(U,{userType:"any",children:e.jsx(wr,{})})}),e.jsx(F,{path:"/settings",element:e.jsx(U,{userType:"any",children:e.jsx(Sr,{})})}),e.jsx(F,{path:"/saved-locations",element:e.jsx(U,{userType:"any",children:e.jsx(kr,{})})})]}),e.jsx(F,{path:"*",element:e.jsx(he,{to:"/",replace:!0})})]})})})})})})}yt.createRoot(document.getElementById("root")).render(e.jsx(r.StrictMode,{children:e.jsx(Tr,{})}));const Dr=()=>{Ve();const t=new Date().getFullYear();return e.jsx(o,{component:"footer",sx:{py:3,px:2,mt:"auto",backgroundColor:n=>n.palette.primary.main,color:"white"},children:e.jsxs(ie,{maxWidth:"lg",children:[e.jsx(o,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:"center"},children:e.jsxs(d,{variant:"body2",color:"white",children:["Â© ",t," ReKindle. All rights reserved."]})}),e.jsx(o,{sx:{mt:2,textAlign:"center"},children:e.jsxs(d,{variant:"body2",color:"white",children:[e.jsx(ce,{color:"inherit",href:"#",sx:{mx:1},children:"Privacy Policy"}),"|",e.jsx(ce,{color:"inherit",href:"#",sx:{mx:1},children:"Terms of Service"}),"|",e.jsx(ce,{color:"inherit",href:"#",sx:{mx:1},children:"Contact Us"})]})})]})})},Lr="/ReKindle/assets/cat-DJJ8aif4.jpg",Pr=({filePath:t,showControls:n=!0})=>{const[a,h]=r.useState(null),[i,s]=r.useState(!1),[c,p]=r.useState(""),x=r.useRef(new Audio);r.useEffect(()=>(t&&(async()=>{try{const{data:{publicUrl:y}}=Y.storage.from("memories").getPublicUrl(t);console.log("Fetched audio URL:",y),h(y)}catch(y){console.error("Error fetching audio URL:",y),p("Error loading audio file")}})(),()=>{x.current&&(x.current.pause(),x.current.src="")}),[t]);const g=()=>{x.current&&(i?x.current.pause():x.current.play(),s(!i))};return c?e.jsx(d,{color:"error",sx:{mb:2},children:c}):e.jsxs(o,{sx:{width:"100%"},children:[e.jsx("audio",{ref:x,src:a,controls:n,style:{width:"100%"},onPlay:()=>s(!0),onPause:()=>s(!1),onEnded:()=>s(!1),onError:u=>{console.error("Error loading audio:",u),p("Error loading audio file")}}),!n&&e.jsx(o,{sx:{display:"flex",justifyContent:"center",mt:2},children:e.jsx(E,{color:"primary",size:"large",onClick:g,sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"}},children:i?e.jsx(be,{}):e.jsx(ae,{})})})]})},Er=({memory:t={id:"1",title:"Family Picnic",date:"2023-06-15",type:"photo",content:"",location:"Central Park",people:["Mom","Dad","Sister"],filter:"polaroid"}})=>{const n=Ve(),[a,h]=r.useState(null),i=!!a,[s,c]=r.useState(!1),[p,x]=r.useState(!0),g=l=>{l.stopPropagation(),h(l.currentTarget)},u=l=>{l&&l.stopPropagation(),h(null)},y=()=>{n(`/memory/${t.id}`)},w=()=>{c(!0),x(!1)},S=()=>{x(!1)},v=()=>{switch(t.filter){case"polaroid":return{border:"15px solid white",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",transform:"rotate(-2deg)",mb:2};case"sepia":return{filter:"sepia(100%)",border:"5px solid #d4b483",mb:2};case"vintage":return{filter:"grayscale(50%)",border:"8px solid #f5f5f5",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15)",mb:2};default:return{mb:2}}},f=()=>{switch(t.type){case"photo":return e.jsxs(o,{sx:{position:"relative",overflow:"hidden",height:200},children:[p&&e.jsx(pe,{variant:"rectangular",width:"100%",height:"100%",animation:"wave"}),s?e.jsx(o,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"background.paper"},children:e.jsx(K,{sx:{fontSize:40,color:"text.secondary"}})}):e.jsx("img",{src:t.content,alt:t.title,onError:w,onLoad:S,style:{width:"100%",height:"100%",objectFit:"cover",display:p?"none":"block",...v()}}),e.jsx(o,{sx:{position:"absolute",top:10,right:10,bgcolor:"rgba(255, 255, 255, 0.8)",borderRadius:"50%",p:.5},children:e.jsx(K,{color:"primary",fontSize:"small"})})]});case"voice":return e.jsxs(o,{sx:{height:200,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",bgcolor:k("#2196f3",.1),position:"relative",overflow:"hidden",p:2},children:[e.jsx(ne,{sx:{bgcolor:k("#2196f3",.8),width:64,height:64,mb:2,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.15)","&:hover":{transform:"scale(1.1)",bgcolor:k("#2196f3",1)},transition:"all 0.3s ease"},children:e.jsx(G,{sx:{fontSize:40,color:"white"}})}),e.jsx(d,{variant:"subtitle1",sx:{fontWeight:500},children:"Voice Recording"}),e.jsx(o,{sx:{width:"100%",mt:2},children:e.jsx(Pr,{filePath:t.content,showControls:!1})})]});case"text":return e.jsxs(o,{sx:{p:3,bgcolor:k("#9c27b0",.05),borderRadius:2,mb:0,height:200,display:"flex",alignItems:"flex-start",justifyContent:"center",flexDirection:"column",position:"relative",overflow:"hidden"},children:[e.jsx(J,{sx:{fontSize:30,color:k("#9c27b0",.6),mb:2}}),e.jsxs(d,{variant:"body1",color:"text.primary",sx:{fontStyle:"italic",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical"},children:['"',t.content,'"']}),e.jsx(o,{sx:{position:"absolute",top:10,right:10,bgcolor:"rgba(255, 255, 255, 0.8)",borderRadius:"50%",p:.5},children:e.jsx(J,{color:"primary",fontSize:"small"})})]});default:return null}},C=()=>{switch(t.type){case"photo":return e.jsx(K,{fontSize:"small"});case"voice":return e.jsx(G,{fontSize:"small"});case"text":return e.jsx(J,{fontSize:"small"});default:return e.jsx(K,{fontSize:"small"})}};return e.jsx(O.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:17},children:e.jsxs(jt,{sx:{maxWidth:345,width:"100%",borderRadius:3,overflow:"hidden",boxShadow:3,bgcolor:"background.paper",position:"relative"},children:[e.jsxs(vt,{onClick:y,children:[f(),e.jsxs(wt,{children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs(o,{children:[e.jsx(d,{gutterBottom:!0,variant:"h6",component:"div",children:t.title}),e.jsx(d,{variant:"body2",color:"text.secondary",children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(E,{"aria-label":"more",id:"memory-menu-button","aria-controls":i?"memory-menu":void 0,"aria-expanded":i?"true":void 0,"aria-haspopup":"true",onClick:g,sx:{mt:-1,mr:-1},children:e.jsx(St,{})})]}),e.jsxs(o,{sx:{display:"flex",mt:2,flexWrap:"wrap",gap:1},children:[e.jsx(re,{icon:C(),label:t.type.charAt(0).toUpperCase()+t.type.slice(1),size:"small",color:"primary",variant:"outlined"}),t.location&&e.jsx(re,{icon:e.jsx(Z,{fontSize:"small"}),label:t.location,size:"small",variant:"outlined"}),t.people&&t.people.length>0&&e.jsx(re,{icon:e.jsx(Ye,{fontSize:"small"}),label:`${t.people.length} people`,size:"small",variant:"outlined"})]})]})]}),e.jsxs($e,{id:"memory-menu",anchorEl:a,open:i,onClose:u,MenuListProps:{"aria-labelledby":"memory-menu-button"},children:[e.jsx(D,{onClick:l=>{u(l),n(`/memory/${t.id}`)},children:"View Details"}),e.jsx(D,{onClick:u,children:"Share Memory"}),e.jsx(D,{onClick:u,children:"Edit Memory"})]})]})})},Or=()=>{const[t,n]=r.useState(!1),[a,h]=r.useState("ready"),[i,s]=r.useState(0),[c,p]=r.useState(0),x={inhale:4,hold:2,exhale:6,totalCycles:3};r.useEffect(()=>{let v;return t&&(a==="ready"?(h("inhale"),s(x.inhale)):v=setInterval(()=>{s(f=>{if(f<=1){if(a==="inhale")return h("hold"),x.hold;if(a==="hold")return h("exhale"),x.exhale;if(a==="exhale"){const C=c+1;return p(C),C>=x.totalCycles?(n(!1),h("ready"),p(0),0):(h("inhale"),x.inhale)}}return f-1})},1e3)),()=>{clearInterval(v)}},[t,a,c]);const g=()=>{n(!0),h("ready"),p(0)},u=()=>{n(!1),h("ready"),s(0),p(0)},y=()=>{switch(a){case"inhale":return"Breathe in slowly...";case"hold":return"Hold your breath...";case"exhale":return"Breathe out slowly...";default:return"Press start when ready"}},w=()=>{switch(a){case"inhale":return"#6a5acd";case"hold":return"#ff8c69";case"exhale":return"#4a3b9c";default:return"#9d8ce0"}},S=()=>{if(!t||a==="ready")return 0;const v=a==="inhale"?x.inhale:a==="hold"?x.hold:x.exhale;return Math.min((v-i)/v*100,99.5)};return e.jsx(ie,{maxWidth:"sm",children:e.jsxs(B,{elevation:3,sx:{p:4,borderRadius:4,display:"flex",flexDirection:"column",alignItems:"center",bgcolor:"background.paper"},children:[e.jsx(d,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",color:"primary",children:"Breathing Exercise"}),e.jsx(d,{variant:"body1",paragraph:!0,align:"center",children:"Take a moment to relax with this guided breathing exercise. Follow the animation and breathe along."}),e.jsx(o,{sx:{position:"relative",my:4,display:"flex",justifyContent:"center"},children:e.jsx(Ge,{mode:"wait",children:e.jsxs(O.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.7,ease:"easeOut"},style:{position:"relative"},children:[e.jsx(fe,{variant:"determinate",value:S(),size:200,thickness:4,sx:{color:w()}}),e.jsx(o,{sx:{position:"absolute",top:0,left:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(O.div,{animate:{scale:a==="inhale"?[1,1.3]:a==="exhale"?[1.3,1]:1.3,opacity:[.8,1,.8]},transition:{duration:a==="inhale"?x.inhale:a==="exhale"?x.exhale:0,ease:"easeInOut",opacity:{duration:a==="inhale"||a==="exhale"?2:0,repeat:a==="inhale"||a==="exhale"?1:0,repeatType:"reverse"}},children:e.jsx(Ue,{sx:{fontSize:80,color:w(),opacity:.8}})})})]},a)})}),e.jsxs(o,{sx:{textAlign:"center",mb:3},children:[e.jsx(d,{variant:"h5",gutterBottom:!0,children:y()}),t&&e.jsx(d,{variant:"h3",color:w(),children:i}),t&&e.jsxs(d,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Cycle ",c+1," of ",x.totalCycles]})]}),e.jsx(o,{sx:{display:"flex",gap:2,justifyContent:"center"},children:t?e.jsx(R,{variant:"outlined",color:"primary",size:"large",onClick:u,"aria-label":"Stop breathing exercise",sx:{px:4,py:1.5,fontSize:"1.1rem"},children:"Stop"}):e.jsx(R,{variant:"contained",color:"primary",size:"large",onClick:g,"aria-label":"Start breathing exercise",sx:{px:4,py:1.5,fontSize:"1.1rem"},children:"Start Breathing"})})]})})},Br=()=>{const[t,n]=r.useState("grid"),[a,h]=r.useState([]),[i,s]=r.useState(!0);r.useEffect(()=>{(async()=>{try{const{data:u,error:y}=await Y.from("memories").select("*").order("date",{ascending:!1});if(y)throw y;h(u||[])}catch(u){console.error("Error fetching memories:",u.message)}finally{s(!1)}})()},[]);const c=(g,u)=>{u!==null&&n(u)},p=a.reduce((g,u)=>{const w=new Date(u.date).toLocaleDateString("en-US",{year:"numeric",month:"long"});return g[w]||(g[w]=[]),g[w].push(u),g},{}),x=Object.keys(p).sort((g,u)=>new Date(u)-new Date(g));return i?e.jsx(ie,{children:e.jsxs(o,{sx:{mb:4},children:[e.jsx(pe,{variant:"rectangular",width:210,height:40}),e.jsx(o,{sx:{mt:2},children:e.jsx(_,{container:!0,spacing:3,children:[1,2,3,4,5,6].map(g=>e.jsx(_,{item:!0,xs:12,sm:6,md:4,children:e.jsx(pe,{variant:"rectangular",height:300})},g))})})]})}):e.jsx(ie,{children:e.jsxs(o,{sx:{mb:4},children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(d,{variant:"h4",component:"h1",children:"Memory Timeline"}),e.jsxs(Ct,{value:t,exclusive:!0,onChange:c,"aria-label":"view mode",children:[e.jsx(de,{value:"grid","aria-label":"grid view",children:e.jsx(kt,{})}),e.jsx(de,{value:"list","aria-label":"list view",children:e.jsx(It,{})}),e.jsx(de,{value:"timeline","aria-label":"timeline view",children:e.jsx(Tt,{})})]})]}),a.length===0?e.jsx(B,{sx:{p:4,textAlign:"center",borderRadius:2,bgcolor:"background.paper"},children:e.jsx(d,{variant:"h6",color:"text.secondary",children:"No memories found. Start creating memories to see them here!"})}):x.map(g=>e.jsxs(o,{sx:{mb:6},children:[e.jsx(d,{variant:"h5",sx:{mb:3,pb:1,borderBottom:"2px solid",borderColor:"primary.main",display:"inline-block"},children:g}),e.jsx(_,{container:!0,spacing:3,children:p[g].map(u=>e.jsx(_,{item:!0,xs:12,sm:t==="list"?12:6,md:t==="list"?12:4,children:e.jsx(Er,{memory:u,viewMode:t})},u.id))})]},g))]})})},Wr=({memoryData:t,setMemoryData:n})=>{var T;const[a,h]=r.useState("photo"),[i,s]=r.useState(""),[c,p]=r.useState(""),[x,g]=r.useState({open:!1,message:"",severity:"success"}),u=j=>{const{name:m,value:L}=j.target;n({...t,[m]:L})},y=j=>{const m=j.target.value;h(m),n({...t,type:m}),m==="photo"&&p("")},w=()=>{var j;i.trim()&&!((j=t.people)!=null&&j.includes(i.trim()))&&(n({...t,people:[...t.people||[],i.trim()]}),s(""))},S=j=>{n({...t,people:(t.people||[]).filter(m=>m!==j)})},v=async j=>{try{const m=j.name.split(".").pop(),M=`public/${`${Math.random()}.${m}`}`,{error:A}=await Y.storage.from("memories").upload(M,j);if(A)throw A;const{data:{publicUrl:P}}=Y.storage.from("memories").getPublicUrl(M);p(URL.createObjectURL(j)),n({...t,content:P,type:"photo"})}catch(m){console.error("Error uploading file:",m.message),l("Error uploading file. Please try again.","error")}},f=async j=>{try{const m=new File([j],"voice-recording.mp3",{type:"audio/mpeg"}),M=`public/${`${Math.random()}.mp3`}`;await Y.storage.from("memories").remove([M]);const{error:A}=await Y.storage.from("memories").upload(M,m,{contentType:"audio/mpeg",cacheControl:"3600",upsert:!0});if(A)throw A;const{data:{publicUrl:P}}=Y.storage.from("memories").getPublicUrl(M);console.log("Uploaded audio URL:",P);try{if(!(await fetch(P)).ok)throw new Error("Audio file not accessible")}catch(W){throw console.error("Error testing audio URL:",W),new Error("Audio file not accessible")}n({...t,content:P,type:"voice"}),l("Voice recording saved successfully!","success")}catch(m){console.error("Error uploading audio:",m.message),l("Error uploading audio. Please try again.","error")}},C=j=>{if(j.preventDefault(),!t.title){l("Please enter a title for your memory","error");return}if(a==="photo"&&!c){l("Please upload a photo","error");return}if(a==="text"&&!t.content){l("Please enter some text for your memory","error");return}l("Memory saved successfully!","success")},l=(j,m)=>{g({open:!0,message:j,severity:m})},b=()=>{g({...x,open:!1})};return e.jsxs(o,{sx:{width:"100%",maxWidth:800,mx:"auto"},children:[e.jsx(d,{variant:"h4",component:"h1",gutterBottom:!0,children:"Create New Memory"}),e.jsx(B,{elevation:3,sx:{p:3,borderRadius:2},children:e.jsx("form",{onSubmit:C,children:e.jsxs(_,{container:!0,spacing:3,children:[e.jsx(_,{item:!0,xs:12,children:e.jsxs(Ie,{fullWidth:!0,children:[e.jsx(Te,{id:"memory-type-label",children:"Memory Type"}),e.jsxs(Le,{labelId:"memory-type-label",id:"memory-type",value:a,label:"Memory Type",onChange:y,children:[e.jsx(D,{value:"photo",children:e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(K,{sx:{mr:1}}),"Photo Memory"]})}),e.jsx(D,{value:"voice",children:e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(G,{sx:{mr:1}}),"Voice Memory"]})}),e.jsx(D,{value:"text",children:e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(J,{sx:{mr:1}}),"Text Memory"]})})]})]})}),e.jsx(_,{item:!0,xs:12,sm:6,children:e.jsx(N,{required:!0,fullWidth:!0,label:"Memory Title",name:"title",value:t.title,onChange:u})}),e.jsx(_,{item:!0,xs:12,sm:6,children:e.jsx(N,{fullWidth:!0,label:"Date",type:"date",name:"date",value:t.date,onChange:u,InputLabelProps:{shrink:!0}})}),e.jsx(_,{item:!0,xs:12,children:e.jsx(N,{fullWidth:!0,label:"Location",name:"location",value:t.location||"",onChange:u,placeholder:"Enter or select a location",InputProps:{startAdornment:e.jsx(Z,{color:"action",sx:{mr:1}})}})}),e.jsxs(_,{item:!0,xs:12,children:[e.jsxs(o,{sx:{display:"flex",alignItems:"flex-start",mb:1},children:[e.jsx(N,{fullWidth:!0,label:"Add People in this Memory",value:i,onChange:j=>s(j.target.value),onKeyPress:j=>j.key==="Enter"&&w(),InputProps:{startAdornment:e.jsx(Ye,{color:"action",sx:{mr:1}})},sx:{mr:1}}),e.jsx(R,{variant:"contained",color:"primary",onClick:w,disabled:!i.trim(),children:e.jsx(ye,{})})]}),e.jsx(o,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:(T=t.people)==null?void 0:T.map(j=>e.jsx(re,{label:j,onDelete:()=>S(j),color:"primary",variant:"outlined"},j))})]}),e.jsx(_,{item:!0,xs:12,children:e.jsx(Q,{sx:{my:2}})}),e.jsxs(_,{item:!0,xs:12,children:[e.jsx(d,{variant:"h6",gutterBottom:!0,children:"Memory Content"}),a==="photo"&&e.jsxs(o,{children:[e.jsx(d,{variant:"h6",gutterBottom:!0,children:"Upload a Photo"}),e.jsx(Ar,{onPhotoSelected:v,defaultImage:c}),e.jsxs(o,{sx:{mt:2},children:[e.jsx(d,{variant:"subtitle1",gutterBottom:!0,children:"Photo Filter"}),e.jsxs(Ie,{fullWidth:!0,sx:{mb:2},children:[e.jsx(Te,{id:"filter-label",children:"Apply Filter"}),e.jsxs(Le,{labelId:"filter-label",id:"filter",name:"filter",value:t.filter||"none",label:"Apply Filter",onChange:u,children:[e.jsx(D,{value:"none",children:"No Filter"}),e.jsx(D,{value:"polaroid",children:"Polaroid Frame"}),e.jsx(D,{value:"sepia",children:"Sepia Tone"}),e.jsx(D,{value:"vintage",children:"Vintage"})]})]}),c&&e.jsx(o,{sx:{mt:2,position:"relative"},children:e.jsx("img",{src:c,alt:"Memory Preview",style:{width:"100%",maxHeight:"300px",objectFit:"contain",borderRadius:t.filter==="none"?"4px":"0",border:t.filter==="polaroid"?"15px solid white":t.filter==="sepia"?"5px solid #d4b483":t.filter==="vintage"?"8px solid #f5f5f5":"none",boxShadow:t.filter!=="none"?"0 4px 8px rgba(0, 0, 0, 0.15)":"none",transform:t.filter==="polaroid"?"rotate(-2deg)":"none",filter:t.filter==="sepia"?"sepia(100%)":t.filter==="vintage"?"grayscale(50%)":"none"}})})]})]}),a==="voice"&&e.jsxs(o,{children:[e.jsx(d,{variant:"h6",gutterBottom:!0,children:"Record a Voice Memory"}),e.jsx(Fr,{onRecordingComplete:f})]}),a==="text"&&e.jsx(N,{fullWidth:!0,multiline:!0,rows:6,label:"Write your memory",name:"content",value:t.content,onChange:u,placeholder:"Share your thoughts, stories, or memories here..."})]})]})})}),e.jsx(je,{open:x.open,autoHideDuration:4e3,onClose:b,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(ee,{onClose:b,severity:x.severity,sx:{width:"100%"},children:x.message})})]})},Fr=({onRecordingComplete:t})=>{const[n,a]=r.useState(!1),[h,i]=r.useState(0),[s,c]=r.useState(null),[p,x]=r.useState(!1),[g,u]=r.useState(0),[y,w]=r.useState(0),S=r.useRef(null),v=r.useRef([]),f=r.useRef(null),C=r.useRef(new Audio),l=r.useRef(null);r.useEffect(()=>()=>{clearInterval(f.current),clearInterval(l.current),s&&URL.revokeObjectURL(s)},[s]),r.useEffect(()=>{s&&(C.current.src=s,C.current.onloadedmetadata=()=>{w(C.current.duration)},C.current.onended=()=>{x(!1),u(0),clearInterval(l.current)})},[s]);const b=async()=>{try{const A=await navigator.mediaDevices.getUserMedia({audio:!0});S.current=new MediaRecorder(A),v.current=[],S.current.ondataavailable=P=>{P.data.size>0&&v.current.push(P.data)},S.current.onstop=()=>{const P=new Blob(v.current,{type:"audio/wav"}),W=URL.createObjectURL(P);c(W),t&&t(W)},S.current.start(),a(!0),i(0),f.current=setInterval(()=>{i(P=>P+1)},1e3)}catch(A){console.error("Error starting recording:",A)}},T=()=>{S.current&&n&&(S.current.stop(),clearInterval(f.current),a(!1),S.current.stream.getTracks().forEach(A=>A.stop()))},j=()=>{p?(C.current.pause(),clearInterval(l.current)):(C.current.play(),l.current=setInterval(()=>{u(C.current.currentTime)},100)),x(!p)},m=()=>{s&&URL.revokeObjectURL(s),c(null),u(0),w(0),x(!1),clearInterval(l.current)},L=A=>{const P=Math.floor(A/60),W=Math.floor(A%60);return`${P.toString().padStart(2,"0")}:${W.toString().padStart(2,"0")}`},M=(A,P)=>{C.current&&(C.current.currentTime=P,u(P))};return e.jsx(B,{elevation:2,sx:{p:3,borderRadius:2},children:s?e.jsxs(o,{children:[e.jsx(d,{variant:"h6",gutterBottom:!0,children:"Voice Memory"}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(E,{color:"primary",onClick:j,sx:{mr:1},children:p?e.jsx(be,{}):e.jsx(ae,{})}),e.jsxs(o,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:[e.jsx(d,{variant:"body2",sx:{minWidth:45},children:L(g)}),e.jsx(qe,{value:g,max:y||100,onChange:M,"aria-label":"audio position",sx:{mx:2}}),e.jsx(d,{variant:"body2",sx:{minWidth:45},children:L(y)})]})]}),e.jsxs(Et,{direction:"row",spacing:2,justifyContent:"center",sx:{mt:3},children:[e.jsx(R,{variant:"outlined",color:"error",startIcon:e.jsx(ve,{}),onClick:m,children:"Delete"}),e.jsx(R,{variant:"outlined",color:"primary",startIcon:e.jsx(G,{}),onClick:b,children:"Record New"})]})]}):e.jsxs(o,{sx:{textAlign:"center"},children:[e.jsx(O.div,{whileHover:{scale:1.05},whileTap:{scale:.95},initial:{scale:1},style:{display:"inline-block"},children:e.jsx(E,{color:n?"error":"primary",sx:{width:80,height:80,bgcolor:n?"error.light":"primary.light",color:"white","&:hover":{bgcolor:n?"error.main":"primary.main"},mb:2},onClick:n?T:b,children:n?e.jsx(Lt,{fontSize:"large"}):e.jsx(G,{fontSize:"large"})})}),e.jsx(d,{variant:"h6",gutterBottom:!0,children:n?"Recording in progress...":"Tap to Start Recording"}),n&&e.jsxs(o,{sx:{width:"100%",mt:2},children:[e.jsx(Pt,{color:"error",sx:{height:10,borderRadius:5}}),e.jsx(d,{variant:"body1",sx:{mt:1,fontWeight:"bold"},children:L(h)})]})]})})},Ar=({onPhotoSelected:t,defaultImage:n})=>{const[a,h]=r.useState(!1),[i,s]=r.useState(!1),[c,p]=r.useState(n?!0:null),[x,g]=r.useState(n||null),u=r.useRef(null);r.useEffect(()=>{n&&(g(n),p(!0))},[n]),r.useEffect(()=>{n&&(g(n),p(!0))},[n]);const y=()=>{u.current.click()},w=S=>{const v=S.target.files[0];v&&t(v)};return e.jsxs(o,{sx:{width:"100%",height:"200px",border:"2px dashed",borderColor:"primary.main",borderRadius:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",position:"relative",overflow:"hidden",bgcolor:"background.paper"},onClick:y,children:[n?e.jsx("img",{src:n,alt:"Memory preview",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs(e.Fragment,{children:[e.jsx(Ft,{sx:{fontSize:48,color:"primary.main",mb:1}}),e.jsx(d,{variant:"body1",color:"textSecondary",children:"Click to upload a photo"}),e.jsx(d,{variant:"caption",color:"textSecondary",children:"Supports: JPG, PNG, GIF"})]}),e.jsx("input",{type:"file",ref:u,onChange:w,accept:"image/*",style:{display:"none"}})]})},Hr=()=>{const[t,n]=r.useState(null),[a,h]=r.useState(!1),[i,s]=r.useState(""),[c,p]=r.useState([{id:1,name:"Home",address:"123 Main Street, Anytown, USA",isHome:!0},{id:2,name:"Doctor's Office",address:"456 Medical Plaza, Anytown, USA",isHome:!1},{id:3,name:"Favorite Park",address:"789 Green Avenue, Anytown, USA",isHome:!1}]),[x,g]=r.useState(""),[u,y]=r.useState(!1),[w,S]=r.useState({open:!1,message:"",severity:"success"}),v=()=>{if(!navigator.geolocation){s("Geolocation is not supported by your browser");return}h(!0),s(""),navigator.geolocation.getCurrentPosition(async m=>{try{n({lat:m.coords.latitude,lng:m.coords.longitude,address:"Current location (coordinates available)"}),h(!1),T("Location successfully detected","success")}catch{s("Error getting address from coordinates"),h(!1)}},m=>{s(`Error getting location: ${m.message}`),h(!1)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:1e4})},f=()=>{if(!t||!x.trim()){T("Please provide a name for this location","error");return}const m={id:Date.now(),name:x,address:t.address,lat:t.lat,lng:t.lng,isHome:!1};p([...c,m]),g(""),y(!1),T("Location saved successfully","success")},C=m=>{p(c.map(L=>({...L,isHome:L.id===m}))),T("Home location updated","success")},l=m=>{p(c.filter(L=>L.id!==m)),T("Location deleted","success")},b=async m=>{if(navigator.share)try{await navigator.share({title:`Location: ${m.name}`,text:`Here's my location: ${m.address}`,url:`https://maps.google.com/?q=${m.address}`})}catch(L){console.error("Error sharing:",L)}else navigator.clipboard.writeText(`${m.name}: ${m.address}`),T("Location copied to clipboard","success")},T=(m,L)=>{S({open:!0,message:m,severity:L})},j=()=>{S({...w,open:!1})};return e.jsxs(o,{sx:{width:"100%"},children:[e.jsx(d,{variant:"h4",component:"h2",gutterBottom:!0,children:"Location Tracker"}),e.jsxs(B,{elevation:3,sx:{p:3,mb:4,borderRadius:2},children:[e.jsx(d,{variant:"h6",gutterBottom:!0,children:"Current Location"}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(R,{variant:"contained",color:"primary",startIcon:e.jsx(At,{}),onClick:v,disabled:a,sx:{mr:2},children:a?"Detecting...":"Get My Location"}),a&&e.jsx(fe,{size:24,sx:{ml:1}})]}),i&&e.jsx(ee,{severity:"error",sx:{mb:2},children:i}),t&&e.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(B,{variant:"outlined",sx:{p:2,mb:2},children:[e.jsxs(d,{variant:"body1",children:[e.jsx(Z,{color:"primary",sx:{verticalAlign:"middle",mr:1}}),t.address]}),u?e.jsxs(o,{sx:{mt:2,display:"flex",alignItems:"flex-end"},children:[e.jsx(N,{label:"Location Name",variant:"outlined",size:"small",value:x,onChange:m=>g(m.target.value),sx:{mr:2,flexGrow:1}}),e.jsx(R,{variant:"contained",color:"primary",onClick:f,disabled:!x.trim(),children:"Save"}),e.jsx(R,{variant:"text",onClick:()=>y(!1),sx:{ml:1},children:"Cancel"})]}):e.jsx(R,{startIcon:e.jsx(ye,{}),onClick:()=>y(!0),sx:{mt:2},children:"Save This Location"})]})})]}),e.jsxs(B,{elevation:3,sx:{p:3,borderRadius:2},children:[e.jsx(d,{variant:"h6",gutterBottom:!0,children:"Saved Locations"}),c.length===0?e.jsx(d,{variant:"body1",color:"text.secondary",sx:{py:2},children:'No saved locations yet. Use the "Get My Location" button above to add locations.'}):e.jsx(oe,{children:c.map((m,L)=>e.jsxs(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:L*.1},children:[e.jsxs(me,{sx:{bgcolor:m.isHome?"rgba(106, 90, 205, 0.1)":"transparent",borderRadius:1},children:[e.jsx(X,{children:m.isHome?e.jsx(Pe,{color:"primary"}):e.jsx(Z,{color:"secondary"})}),e.jsx(ge,{primary:m.name,secondary:m.address,primaryTypographyProps:{fontWeight:m.isHome?"bold":"normal"}}),e.jsxs(Ke,{children:[e.jsx(Tooltip,{title:"Share Location",children:e.jsx(E,{edge:"end",onClick:()=>b(m),children:e.jsx(zt,{})})}),!m.isHome&&e.jsx(Tooltip,{title:"Set as Home",children:e.jsx(E,{edge:"end",onClick:()=>C(m.id),children:e.jsx(Pe,{})})}),e.jsx(Tooltip,{title:"Delete Location",children:e.jsx(E,{edge:"end",onClick:()=>l(m.id),children:e.jsx(ve,{})})})]})]}),L<c.length-1&&e.jsx(Q,{variant:"inset",component:"li"})]},m.id))})]}),e.jsx(je,{open:w.open,autoHideDuration:4e3,onClose:j,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(ee,{onClose:j,severity:w.severity,sx:{width:"100%"},children:w.message})})]})},Ur=()=>{const[t,n]=r.useState([{id:1,name:"John Smith",relationship:"Son",phone:"(555) 123-4567"},{id:2,name:"Mary Johnson",relationship:"Daughter",phone:"(555) 987-6543"}]),[a,h]=r.useState(!1),[i,s]=r.useState(null),[c,p]=r.useState({name:"",relationship:"",phone:""}),[x,g]=r.useState({open:!1,message:"",severity:"success"}),u=()=>{s(null),p({name:"",relationship:"",phone:""}),h(!0)},y=b=>{s(b),p({name:b.name,relationship:b.relationship,phone:b.phone}),h(!0)},w=b=>{const{name:T,value:j}=b.target;p({...c,[T]:j})},S=()=>{if(!c.name||!c.phone){C("Name and phone number are required","error");return}if(i)n(t.map(b=>b.id===i.id?{...b,...c}:b)),C("Contact updated successfully","success");else{const b={id:Date.now(),...c};n([...t,b]),C("Contact added successfully","success")}h(!1)},v=b=>{n(t.filter(T=>T.id!==b)),C("Contact deleted","success")},f=b=>{C(`Emergency notification sent to ${b.name}`,"info")},C=(b,T)=>{g({open:!0,message:b,severity:T})},l=()=>{g({...x,open:!1})};return e.jsxs(o,{sx:{width:"100%"},children:[e.jsx(d,{variant:"h4",component:"h2",gutterBottom:!0,children:"Emergency Contacts"}),e.jsxs(B,{elevation:3,sx:{p:3,mb:4,borderRadius:2},children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(d,{variant:"h6",children:"Your Emergency Contacts"}),e.jsx(R,{variant:"contained",color:"primary",startIcon:e.jsx(ye,{}),onClick:u,children:"Add Contact"})]}),t.length===0?e.jsx(ee,{severity:"info",children:"No emergency contacts added yet. Add contacts who should be notified in case of emergency."}):e.jsx(oe,{children:t.map((b,T)=>e.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:T*.1},children:[e.jsxs(me,{sx:{bgcolor:"background.paper",mb:1,borderRadius:1},children:[e.jsx(X,{children:e.jsx(Rt,{color:"primary"})}),e.jsx(ge,{primary:e.jsx(d,{variant:"subtitle1",fontWeight:"medium",children:b.name}),secondary:e.jsxs(e.Fragment,{children:[e.jsx(d,{variant:"body2",color:"text.secondary",component:"span",children:b.relationship}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",mt:.5},children:[e.jsx(Mt,{fontSize:"small",sx:{mr:.5,color:"text.secondary"}}),e.jsx(d,{variant:"body2",color:"text.secondary",children:b.phone})]})]})}),e.jsxs(Ke,{children:[e.jsx(E,{edge:"end",color:"secondary",onClick:()=>f(b),sx:{mr:1},children:e.jsx(_t,{})}),e.jsx(E,{edge:"end",onClick:()=>y(b),sx:{mr:1},children:e.jsx(Dt,{})}),e.jsx(E,{edge:"end",onClick:()=>v(b.id),children:e.jsx(ve,{})})]})]}),T<t.length-1&&e.jsx(Q,{})]},b.id))}),e.jsx(d,{variant:"body2",color:"text.secondary",sx:{mt:3},children:"These contacts will be notified in case of emergency. You can add family members, caregivers, or healthcare providers."})]}),e.jsxs(Ot,{open:a,onClose:()=>h(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(Bt,{children:i?"Edit Emergency Contact":"Add Emergency Contact"}),e.jsxs(Wt,{children:[e.jsx(N,{autoFocus:!0,margin:"dense",name:"name",label:"Full Name",type:"text",fullWidth:!0,variant:"outlined",value:c.name,onChange:w,sx:{mb:2,mt:1}}),e.jsx(N,{margin:"dense",name:"relationship",label:"Relationship",type:"text",fullWidth:!0,variant:"outlined",value:c.relationship,onChange:w,sx:{mb:2}}),e.jsx(N,{margin:"dense",name:"phone",label:"Phone Number",type:"tel",fullWidth:!0,variant:"outlined",value:c.phone,onChange:w})]}),e.jsxs(Ht,{children:[e.jsx(R,{onClick:()=>h(!1),children:"Cancel"}),e.jsx(R,{onClick:S,variant:"contained",color:"primary",children:"Save"})]})]}),e.jsx(je,{open:x.open,autoHideDuration:4e3,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(ee,{onClose:l,severity:x.severity,sx:{width:"100%"},children:x.message})})]})},Nr=()=>{const[t,n]=r.useState(!1),[a,h]=r.useState(100),[i,s]=r.useState(!1),[c,p]=r.useState(!0),x=()=>{n(!t)},g=(v,f)=>{h(f),document.documentElement.style.fontSize=`${f}%`},u=v=>{s(v.target.checked),v.target.checked?document.body.classList.add("high-contrast"):document.body.classList.remove("high-contrast")},y=v=>{p(v.target.checked)},w=()=>{const v=Math.min(a+10,150);h(v),document.documentElement.style.fontSize=`${v}%`},S=()=>{const v=Math.max(a-10,80);h(v),document.documentElement.style.fontSize=`${v}%`};return e.jsxs(e.Fragment,{children:[e.jsx(te,{title:"Accessibility Options",children:e.jsx(E,{onClick:x,color:"primary",sx:{position:"fixed",bottom:20,right:20,bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"},zIndex:1e3,width:56,height:56},children:e.jsx(O.div,{whileHover:{rotate:10},whileTap:{scale:.9},children:e.jsx(Ut,{fontSize:"large"})})})}),e.jsx(ue,{anchor:"right",open:t,onClose:x,children:e.jsxs(o,{sx:{width:300,p:3,height:"100%",display:"flex",flexDirection:"column"},role:"presentation",children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(d,{variant:"h5",component:"div",children:"Accessibility"}),e.jsx(E,{onClick:x,children:e.jsx(Nt,{})})]}),e.jsxs(B,{elevation:2,sx:{p:2,mb:3},children:[e.jsx(d,{variant:"h6",gutterBottom:!0,children:"Text Size"}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(E,{onClick:S,disabled:a<=80,children:e.jsx($t,{})}),e.jsx(qe,{value:a,onChange:g,"aria-labelledby":"font-size-slider",valueLabelDisplay:"auto",step:10,marks:!0,min:80,max:150,sx:{mx:2}}),e.jsx(E,{onClick:w,disabled:a>=150,children:e.jsx(Vt,{})})]}),e.jsxs(d,{variant:"body2",color:"text.secondary",children:["Current: ",a,"%"]})]}),e.jsxs(B,{elevation:2,sx:{p:2,mb:3},children:[e.jsx(d,{variant:"h6",gutterBottom:!0,children:"Display Options"}),e.jsx(Ee,{control:e.jsx(Fe,{checked:i,onChange:u,icon:e.jsx(Ae,{}),checkedIcon:e.jsx(Ae,{})}),label:"High Contrast Mode"})]}),e.jsxs(B,{elevation:2,sx:{p:2,mb:3},children:[e.jsx(d,{variant:"h6",gutterBottom:!0,children:"Sound & Feedback"}),e.jsx(Ee,{control:e.jsx(Fe,{checked:c,onChange:y,icon:e.jsx(ze,{}),checkedIcon:e.jsx(ze,{})}),label:"Audio Feedback"})]}),e.jsx(o,{sx:{mt:"auto"},children:e.jsx(R,{variant:"contained",color:"primary",fullWidth:!0,onClick:x,sx:{mt:2},children:"Close"})})]})})]})},We=({children:t,onClick:n,direction:a})=>{const i=le().palette.mode==="dark";return e.jsx(E,{onClick:n,sx:{position:"absolute",top:"50%",transform:"translateY(-50%)",[a==="left"?"left":"right"]:{xs:4,sm:16},zIndex:2,bgcolor:i?"rgba(255, 255, 255, 0.2)":"rgba(255, 255, 255, 0.6)",boxShadow:i?"0 2px 8px rgba(0, 0, 0, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.08)","&:hover":{bgcolor:i?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.8)",transform:"translateY(-50%) scale(1.05)"},transition:"all 0.2s ease",color:i?"white":"text.secondary"},children:t})},$r=({memories:t=[],interval:n=5e3,autoPlay:a=!0,loading:h=!1})=>{const i=le(),[s,c]=r.useState(0),[p,x]=r.useState(a),g=[{id:1,title:"Sample Photo Memory",description:"This is a sample photo memory",date:new Date().toLocaleDateString(),content:Lr,location:"Sample Location",type:"photo"},{id:2,title:"Sample Text Memory",description:"This is a sample text memory",date:new Date().toLocaleDateString(),content:"This is a sample text content for a memory. It could be a story, a recipe, or any other text-based memory that is worth preserving.",location:"Sample Location",type:"text"},{id:3,title:"Sample Voice Memory",description:"This is a sample voice memory",date:new Date().toLocaleDateString(),content:"voice-recording.mp3",location:"Sample Location",type:"voice"}],u=t.length>0?t:g,y=u[s];r.useEffect(()=>{let l;return p&&y&&(l=setTimeout(()=>{S()},n)),()=>clearTimeout(l)},[s,p,n,y]);const w=()=>{c(l=>l===0?u.length-1:l-1)},S=()=>{c(l=>l===u.length-1?0:l+1)},v=()=>{x(!p)},f=l=>{c(l)},C=l=>{if(!l)return null;const b=i.palette.mode==="dark";switch(l.type){case"photo":return e.jsx(o,{sx:{position:"relative",height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:e.jsxs(o,{sx:{position:"relative",flexGrow:1,overflow:"hidden"},children:[e.jsx(o,{component:"img",src:l.content,alt:l.title,sx:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsxs(o,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%)",padding:3,paddingTop:6,color:"white"},children:[e.jsx(d,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600},children:l.title}),e.jsx(d,{variant:"body1",gutterBottom:!0,children:l.description}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:2,mt:1},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(qt,{sx:{fontSize:16,mr:.5,opacity:.9}}),e.jsx(d,{variant:"body2",children:l.date})]}),l.location&&e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Z,{sx:{fontSize:16,mr:.5,opacity:.9}}),e.jsx(d,{variant:"body2",children:l.location})]})]})]})]})});case"text":return e.jsxs(o,{sx:{height:"100%",display:"flex",flexDirection:"column",padding:4,background:b?`linear-gradient(135deg, ${k(i.palette.primary.dark,.2)}, ${k(i.palette.background.paper,.9)})`:`linear-gradient(135deg, ${k(i.palette.background.paper,.9)}, ${k(i.palette.primary.light,.2)})`,color:i.palette.text.primary},children:[e.jsx(J,{sx:{position:"absolute",top:20,right:20,fontSize:40,color:k(i.palette.primary.main,.2)}}),e.jsx(d,{variant:"h4",gutterBottom:!0,sx:{fontWeight:600,mt:4},children:l.title}),e.jsxs(d,{variant:"subtitle1",gutterBottom:!0,color:"text.secondary",children:[l.date," | ",l.location]}),e.jsx(o,{sx:{mt:2,mb:4},children:e.jsxs(d,{variant:"body1",sx:{lineHeight:1.7,fontSize:"1.1rem",fontStyle:"italic",color:"text.primary",overflow:"auto",maxHeight:200},children:['"',l.content,'"']})})]});case"voice":return e.jsxs(o,{sx:{height:"100%",display:"flex",flexDirection:"column",padding:4,justifyContent:"center",alignItems:"center",background:`linear-gradient(135deg, ${k(i.palette.info.light,.2)} 0%, ${k(i.palette.info.main,.1)} 100%)`,position:"relative"},children:[e.jsx(G,{sx:{position:"absolute",top:20,right:20,fontSize:40,color:k(i.palette.info.main,.3)}}),e.jsx(d,{variant:"h4",gutterBottom:!0,sx:{fontWeight:600,textAlign:"center"},children:l.title}),e.jsxs(d,{variant:"subtitle1",gutterBottom:!0,color:"text.secondary",sx:{textAlign:"center",mb:4},children:[l.date," | ",l.location]}),e.jsx(ne,{sx:{width:80,height:80,bgcolor:i.palette.info.main,boxShadow:"0 4px 20px rgba(0,0,0,0.15)",mb:2,"&:hover":{transform:"scale(1.05)",cursor:"pointer"},transition:"transform 0.2s ease"},children:e.jsx(ae,{sx:{fontSize:40,color:"white"}})}),e.jsx(d,{variant:"body1",sx:{textAlign:"center",maxWidth:"80%"},children:l.description}),e.jsx(o,{sx:{display:"flex",gap:.5,alignItems:"flex-end",height:60,mt:4},children:[...Array(30)].map((T,j)=>e.jsx(o,{component:O.div,animate:{height:[Math.random()*10+5,Math.random()*30+10,Math.random()*15+5]},transition:{duration:1.4,repeat:1/0,repeatType:"reverse",delay:j*.05%.5},sx:{width:3,bgcolor:i.palette.info.main,opacity:.7,borderRadius:4}},j))})]});default:return null}};return h?e.jsx(o,{sx:{position:"relative",overflow:"hidden",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:l=>l.palette.mode==="dark"?k(l.palette.background.paper,.7):"#fff"},children:e.jsx(d,{variant:"h6",color:"text.secondary",children:"Loading memories..."})}):!h&&t.length===0?e.jsx(o,{sx:{position:"relative",overflow:"hidden",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:l=>l.palette.mode==="dark"?k(l.palette.background.paper,.7):"#fff"},children:e.jsx(d,{variant:"h6",color:"text.secondary",children:"No memories yet. Add your first memory!"})}):e.jsxs(o,{sx:{position:"relative",overflow:"hidden",width:"100%",height:"100%",bgcolor:l=>l.palette.mode==="dark"?k(l.palette.background.paper,.7):"#fff"},children:[e.jsx(We,{onClick:w,direction:"left",children:e.jsx(Yt,{fontSize:"small"})}),e.jsx(o,{sx:{position:"relative",height:"100%",overflow:"hidden",width:"100%"},children:e.jsx(Ge,{mode:"wait",children:y&&e.jsx(O.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5},style:{height:"100%",width:"100%"},children:C(y)},s)})}),e.jsx(We,{onClick:S,direction:"right",children:e.jsx(Gt,{fontSize:"small"})}),e.jsx(E,{onClick:v,sx:{position:"absolute",bottom:12,right:12,zIndex:2,bgcolor:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(4px)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)"}},children:p?e.jsx(be,{}):e.jsx(ae,{})}),e.jsx(o,{sx:{position:"absolute",bottom:12,left:"50%",transform:"translateX(-50%)",display:"flex",gap:1,zIndex:2},children:u.map((l,b)=>e.jsx(o,{component:"button",onClick:()=>f(b),sx:{width:b===s?24:12,height:4,borderRadius:"4px",border:"none",bgcolor:b===s?"white":"rgba(255, 255, 255, 0.5)",cursor:"pointer",padding:0,transition:"all 0.3s ease","&:hover":{bgcolor:"white",transform:"scaleY(1.3)"}}},b))})]})};export{Pr as A,Or as B,Ur as E,Dr as F,xe as L,Wr as M,z as _,$r as a,Br as b,Lr as c,Hr as d,Nr as e,rr as u};

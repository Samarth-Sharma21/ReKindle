import{r as e,j as o,s as p,B as d,I as g,x as m}from"./index-BBUo2mLe.js";import{P as h,a as j}from"./Pause-BDL6Srgj.js";const A=({filePath:a,showControls:i=!0})=>{const[f,x]=e.useState(null),[n,s]=e.useState(!1),[c,l]=e.useState(""),r=e.useRef(new Audio);e.useEffect(()=>(a&&(async()=>{try{const{data:{publicUrl:t}}=m.storage.from("memories").getPublicUrl(a);console.log("Fetched audio URL:",t),x(t)}catch(t){console.error("Error fetching audio URL:",t),l("Error loading audio file")}})(),()=>{r.current&&(r.current.pause(),r.current.src="")}),[a]);const y=()=>{r.current&&(n?r.current.pause():r.current.play(),s(!n))};return c?o.jsx(p,{color:"error",sx:{mb:2},children:c}):o.jsxs(d,{sx:{width:"100%"},children:[o.jsx("audio",{ref:r,src:f,controls:i,style:{width:"100%"},onPlay:()=>s(!0),onPause:()=>s(!1),onEnded:()=>s(!1),onError:u=>{console.error("Error loading audio:",u),l("Error loading audio file")}}),!i&&o.jsx(d,{sx:{display:"flex",justifyContent:"center",mt:2},children:o.jsx(g,{color:"primary",size:"large",onClick:y,sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"}},children:n?o.jsx(h,{}):o.jsx(j,{})})})]})};export{A};

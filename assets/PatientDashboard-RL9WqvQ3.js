import{c as P,j as e,a as E,r as h,B as s,W as o,h as r,m as F,I as z,M as J,u as Z,l as ee,d as te,P as I,e as m,k as N,L as se,n as Y,i as B,s as O}from"./index-C-AMN2PQ.js";import{A as R}from"./AddPhotoAlternate-Cocu0XB8.js";import{T as re}from"./Timeline-DQTiyqF5.js";import{L as T}from"./LocationOn-BD0NLpOO.js";import{P as ie}from"./People-TeAc17PP.js";import{M as oe,T as L}from"./TextSnippet-CZAAHbvk.js";import{A as ne,B as H}from"./BreathingExercise-BfTxD5Ib.js";import{P as ae,a as V}from"./Pause-CUbMNQB8.js";import{C as le,a as xe}from"./CalendarToday-nzYvebtD.js";import{C as ce}from"./CalendarTodayOutlined-DRf6HzGe.js";import{A as U}from"./ArrowForward-CpwCqCbw.js";import{C as de}from"./Container-Px_pG2SI.js";import{G as a}from"./Grid-DhnquvYe.js";import{S as W}from"./Stack-BNfSXzff.js";import{C as X,a as _}from"./CardContent-VQLfqu3H.js";const Q="/ReKindle/assets/cat-DJJ8aif4.jpg",me=P(e.jsx("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"})),he=P(e.jsx("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"})),q=({children:p,onClick:g,direction:k})=>{const n=E().palette.mode==="dark";return e.jsx(z,{onClick:g,sx:{position:"absolute",top:"50%",transform:"translateY(-50%)",[k==="left"?"left":"right"]:{xs:4,sm:16},zIndex:2,bgcolor:n?"rgba(255, 255, 255, 0.2)":"rgba(255, 255, 255, 0.6)",boxShadow:n?"0 2px 8px rgba(0, 0, 0, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.08)","&:hover":{bgcolor:n?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.8)",transform:"translateY(-50%) scale(1.05)"},transition:"all 0.2s ease",color:n?"white":"text.secondary"},children:p})},pe=({memories:p=[],interval:g=5e3,autoPlay:k=!0,loading:l=!1})=>{const n=E(),[d,c]=h.useState(0),[x,f]=h.useState(k),b=[{id:1,title:"Sample Photo Memory",description:"This is a sample photo memory",date:new Date().toLocaleDateString(),content:Q,location:"Sample Location",type:"photo"},{id:2,title:"Sample Text Memory",description:"This is a sample text memory",date:new Date().toLocaleDateString(),content:"This is a sample text content for a memory. It could be a story, a recipe, or any other text-based memory that is worth preserving.",location:"Sample Location",type:"text"},{id:3,title:"Sample Voice Memory",description:"This is a sample voice memory",date:new Date().toLocaleDateString(),content:"voice-recording.mp3",location:"Sample Location",type:"voice"}],v=p.length>0?p:b,u=v[d];h.useEffect(()=>{let t;return x&&u&&(t=setTimeout(()=>{w()},g)),()=>clearTimeout(t)},[d,x,g,u]);const D=()=>{c(t=>t===0?v.length-1:t-1)},w=()=>{c(t=>t===v.length-1?0:t+1)},A=()=>{f(!x)},M=t=>{c(t)},j=t=>{if(!t)return null;const i=n.palette.mode==="dark";switch(t.type){case"photo":return e.jsx(s,{sx:{position:"relative",height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:e.jsxs(s,{sx:{position:"relative",flexGrow:1,overflow:"hidden"},children:[e.jsx(s,{component:"img",src:t.content,alt:t.title,sx:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsxs(s,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%)",padding:3,paddingTop:6,color:"white"},children:[e.jsx(r,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600},children:t.title}),e.jsx(r,{variant:"body1",gutterBottom:!0,children:t.description}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2,mt:1},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(le,{sx:{fontSize:16,mr:.5,opacity:.9}}),e.jsx(r,{variant:"body2",children:t.date})]}),t.location&&e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(T,{sx:{fontSize:16,mr:.5,opacity:.9}}),e.jsx(r,{variant:"body2",children:t.location})]})]})]})]})});case"text":return e.jsxs(s,{sx:{height:"100%",display:"flex",flexDirection:"column",padding:4,background:i?`linear-gradient(135deg, ${o(n.palette.primary.dark,.2)}, ${o(n.palette.background.paper,.9)})`:`linear-gradient(135deg, ${o(n.palette.background.paper,.9)}, ${o(n.palette.primary.light,.2)})`,color:n.palette.text.primary},children:[e.jsx(L,{sx:{position:"absolute",top:20,right:20,fontSize:40,color:o(n.palette.primary.main,.2)}}),e.jsx(r,{variant:"h4",gutterBottom:!0,sx:{fontWeight:600,mt:4},children:t.title}),e.jsxs(r,{variant:"subtitle1",gutterBottom:!0,color:"text.secondary",children:[t.date," | ",t.location]}),e.jsx(s,{sx:{mt:2,mb:4},children:e.jsxs(r,{variant:"body1",sx:{lineHeight:1.7,fontSize:"1.1rem",fontStyle:"italic",color:"text.primary",overflow:"auto",maxHeight:200},children:['"',t.content,'"']})})]});case"voice":return e.jsxs(s,{sx:{height:"100%",display:"flex",flexDirection:"column",padding:4,justifyContent:"center",alignItems:"center",background:`linear-gradient(135deg, ${o(n.palette.info.light,.2)} 0%, ${o(n.palette.info.main,.1)} 100%)`,position:"relative"},children:[e.jsx(oe,{sx:{position:"absolute",top:20,right:20,fontSize:40,color:o(n.palette.info.main,.3)}}),e.jsx(r,{variant:"h4",gutterBottom:!0,sx:{fontWeight:600,textAlign:"center"},children:t.title}),e.jsxs(r,{variant:"subtitle1",gutterBottom:!0,color:"text.secondary",sx:{textAlign:"center",mb:4},children:[t.date," | ",t.location]}),e.jsx(J,{sx:{width:80,height:80,bgcolor:n.palette.info.main,boxShadow:"0 4px 20px rgba(0,0,0,0.15)",mb:2,"&:hover":{transform:"scale(1.05)",cursor:"pointer"},transition:"transform 0.2s ease"},children:e.jsx(V,{sx:{fontSize:40,color:"white"}})}),e.jsx(r,{variant:"body1",sx:{textAlign:"center",maxWidth:"80%"},children:t.description}),e.jsx(s,{sx:{display:"flex",gap:.5,alignItems:"flex-end",height:60,mt:4},children:[...Array(30)].map((y,C)=>e.jsx(s,{component:F.div,animate:{height:[Math.random()*10+5,Math.random()*30+10,Math.random()*15+5]},transition:{duration:1.4,repeat:1/0,repeatType:"reverse",delay:C*.05%.5},sx:{width:3,bgcolor:n.palette.info.main,opacity:.7,borderRadius:4}},C))})]});default:return null}};return l?e.jsx(s,{sx:{position:"relative",overflow:"hidden",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:t=>t.palette.mode==="dark"?o(t.palette.background.paper,.7):"#fff"},children:e.jsx(r,{variant:"h6",color:"text.secondary",children:"Loading memories..."})}):!l&&p.length===0?e.jsx(s,{sx:{position:"relative",overflow:"hidden",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:t=>t.palette.mode==="dark"?o(t.palette.background.paper,.7):"#fff"},children:e.jsx(r,{variant:"h6",color:"text.secondary",children:"No memories yet. Add your first memory!"})}):e.jsxs(s,{sx:{position:"relative",overflow:"hidden",width:"100%",height:"100%",bgcolor:t=>t.palette.mode==="dark"?o(t.palette.background.paper,.7):"#fff"},children:[e.jsx(q,{onClick:D,direction:"left",children:e.jsx(me,{fontSize:"small"})}),e.jsx(s,{sx:{position:"relative",height:"100%",overflow:"hidden",width:"100%"},children:e.jsx(ne,{mode:"wait",children:u&&e.jsx(F.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5},style:{height:"100%",width:"100%"},children:j(u)},d)})}),e.jsx(q,{onClick:w,direction:"right",children:e.jsx(he,{fontSize:"small"})}),e.jsx(z,{onClick:A,sx:{position:"absolute",bottom:12,right:12,zIndex:2,bgcolor:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(4px)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)"}},children:x?e.jsx(ae,{}):e.jsx(V,{})}),e.jsx(s,{sx:{position:"absolute",bottom:12,left:"50%",transform:"translateX(-50%)",display:"flex",gap:1,zIndex:2},children:v.map((t,i)=>e.jsx(s,{component:"button",onClick:()=>M(i),sx:{width:i===d?24:12,height:4,borderRadius:"4px",border:"none",bgcolor:i===d?"white":"rgba(255, 255, 255, 0.5)",cursor:"pointer",padding:0,transition:"all 0.3s ease","&:hover":{bgcolor:"white",transform:"scaleY(1.3)"}}},i))})]})},ge=P(e.jsx("path",{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2m4 18v-6h2.5l-2.54-7.63C19.68 7.55 18.92 7 18.06 7h-.12c-.86 0-1.63.55-1.9 1.37l-.86 2.58c1.08.6 1.82 1.73 1.82 3.05v8zm-7.5-10.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5M5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2m2 16v-7H9V9c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v6h1.5v7zm6.5 0v-4h1v-4c0-.82-.68-1.5-1.5-1.5h-2c-.82 0-1.5.68-1.5 1.5v4h1v4z"})),fe={sm:576},Ae=()=>{const p=Z(),[g,k]=h.useState(!1),{user:l}=ee(),[n,d]=h.useState(""),c=E(),x=c.palette.mode==="dark",f=te(`(max-width:${fe.sm}px)`),[b,v]=h.useState([]),[u,D]=h.useState([]);h.useEffect(()=>{(async()=>{try{const{data:{user:i},error:y}=await O.auth.getUser();if(y||!i)throw new Error("User not authenticated");const{data:C,error:$}=await O.from("memories").select("*").eq("user_id",i.id).order("date",{ascending:!1});if($)throw $;v(C||[]);const K=C.filter(S=>S.location&&S.location.trim()!=="").reduce((S,G)=>(S.includes(G.location)||S.push(G.location),S),[]).slice(0,3);D(K)}catch(i){console.error("Error fetching memories:",i.message)}})()},[]);const w=()=>{p("/add-memory")},A=t=>{p(`/memory/${t}`)},M=()=>{k(!g)};h.useEffect(()=>{const t=()=>{const y=new Date().getHours();y>=17?d("Good evening!"):y>=12?d("Good afternoon!"):d("Good morning!")};t();const i=setInterval(t,60*1e3);return()=>clearInterval(i)},[]);const j={name:(l==null?void 0:l.name)||"Guest",email:(l==null?void 0:l.email)||"",familyMembers:(l==null?void 0:l.familyMembers)||[]};return e.jsx(s,{sx:{width:"100%",maxWidth:"100%",overflowX:"hidden"},children:e.jsx(de,{maxWidth:"lg",disableGutters:f,sx:{mt:{xs:2,sm:3},mb:{xs:4,sm:6},px:{xs:2,sm:3,md:4},boxSizing:"border-box",width:"100%",overflowX:"hidden"},children:e.jsxs(a,{container:!0,spacing:{xs:2,sm:3,md:4},children:[e.jsx(a,{xs:12,children:e.jsxs(I,{elevation:2,sx:{p:{xs:2,sm:3,md:4},mb:{xs:3,sm:4,md:5},borderRadius:3,background:x?`linear-gradient(90deg, ${o(c.palette.primary.dark,.8)} 0%, ${o(c.palette.primary.main,.6)} 100%)`:`linear-gradient(90deg, ${c.palette.primary.main} 0%, ${c.palette.primary.dark} 100%)`,color:"#fff",overflow:"hidden",position:"relative",boxShadow:x?"0 10px 30px rgba(0, 0, 0, 0.3)":"0 10px 30px rgba(0, 0, 0, 0.15)",width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:[e.jsx(s,{sx:{position:"absolute",top:-20,right:-20,width:{xs:"150px",sm:"200px"},height:{xs:"150px",sm:"200px"},borderRadius:"50%",background:"rgba(255, 255, 255, 0.1)",zIndex:0,display:{xs:"none",sm:"block"}}}),e.jsx(s,{sx:{position:"absolute",bottom:-40,left:-40,width:{xs:"100px",sm:"150px"},height:{xs:"100px",sm:"150px"},borderRadius:"50%",background:"rgba(255, 255, 255, 0.05)",zIndex:0,display:{xs:"none",sm:"block"}}}),e.jsxs(a,{container:!0,spacing:{xs:2,sm:3},alignItems:"center",sx:{position:"relative",zIndex:1},children:[e.jsxs(a,{xs:12,sm:7,children:[e.jsxs(r,{variant:"h4",component:"h1",sx:{fontWeight:700,mb:1,display:"flex",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},fontSize:{xs:"1.5rem",sm:"1.8rem",md:"2.125rem"}},children:[n," ",e.jsx(s,{component:"span",sx:{pl:{xs:0,sm:1},fontWeight:400,opacity:.9},children:j.name})]}),e.jsx(r,{variant:"body1",sx:{mb:2,opacity:.9,fontSize:{xs:"0.9rem",sm:"1rem",md:"1.1rem"}},children:"Welcome to your memory dashboard. Ready to capture some new memories today?"}),e.jsxs(W,{direction:{xs:"column",sm:"row"},spacing:{xs:1,sm:2},sx:{width:"100%"},children:[e.jsx(m,{variant:"contained",onClick:w,startIcon:e.jsx(R,{}),fullWidth:f,sx:{bgcolor:"white",color:c.palette.primary.main,fontWeight:600,"&:hover":{bgcolor:"rgba(255,255,255,0.9)"}},children:"Add Memory"}),e.jsx(m,{variant:"outlined",color:"inherit",startIcon:e.jsx(N,{}),onClick:M,fullWidth:f,sx:{borderColor:"rgba(255,255,255,0.5)",fontWeight:600,"&:hover":{borderColor:"white",bgcolor:"rgba(255,255,255,0.1)"}},children:"Breathing Exercise"})]}),g&&e.jsx(s,{sx:{mt:3,maxWidth:"100%",overflow:"hidden"},children:e.jsx(H,{})})]}),e.jsx(a,{xs:12,sm:5,children:e.jsx(s,{sx:{display:"flex",justifyContent:{xs:"center",sm:"flex-end"},alignItems:"center",mt:{xs:3,sm:0},transform:{xs:"scale(1)",sm:"scale(1.1)"},transformOrigin:{xs:"center",sm:"right center"}},children:e.jsx(se,{size:f?"medium":"large",withLink:!1})})})]})]})}),e.jsx(a,{xs:12,children:e.jsxs(s,{sx:{mb:{xs:3,sm:4,md:5},width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,width:"100%",px:1},children:e.jsx(r,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:"Featured Memories"})}),e.jsxs(I,{elevation:2,sx:{borderRadius:3,overflow:"hidden",position:"relative",boxShadow:x?"0 10px 30px rgba(0, 0, 0, 0.3)":"0 10px 30px rgba(0, 0, 0, 0.15)",width:{xs:"100%",sm:"600px",md:"800px",lg:"900px"},height:{xs:300,sm:380,md:450,lg:500},maxWidth:"100%",boxSizing:"border-box"},children:[e.jsxs(s,{sx:{position:"absolute",top:10,left:10,zIndex:10,display:"flex",flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:2}},children:[e.jsx(m,{variant:"contained",color:"primary",startIcon:e.jsx(R,{}),onClick:w,size:f?"small":"medium",sx:{px:{xs:1,sm:2},py:{xs:.5,sm:1},borderRadius:2,boxShadow:"0 4px 10px rgba(0,0,0,0.15)",bgcolor:"primary.main",fontSize:{xs:"0.7rem",sm:"0.875rem"}},children:"Add Memory"}),e.jsx(m,{variant:"contained",color:"primary",startIcon:e.jsx(re,{}),component:Y,to:"/patient/dashboard/timeline",size:f?"small":"medium",sx:{px:{xs:1,sm:2},py:{xs:.5,sm:1},borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.8)",color:"primary.main",boxShadow:"0 4px 10px rgba(0,0,0,0.15)","&:hover":{bgcolor:"white"},fontSize:{xs:"0.7rem",sm:"0.875rem"}},children:"View Timeline"})]}),e.jsx(pe,{memories:b})]})]})}),e.jsx(a,{xs:12,children:e.jsx(r,{variant:"h5",sx:{fontWeight:600,mb:2,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:"Dashboard Tools"})}),e.jsxs(a,{container:!0,spacing:{xs:2,sm:3},children:[e.jsx(a,{item:!0,xs:12,sm:4,sx:{display:"flex"},children:e.jsxs(I,{elevation:2,sx:{p:{xs:2,sm:3},borderRadius:3,height:"100%",width:"100%",bgcolor:t=>t.palette.background.paper,transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:x?"0 12px 20px rgba(0, 0, 0, 0.3)":"0 12px 20px rgba(0, 0, 0, 0.1)"}},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(r,{variant:"h6",sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"Recent Locations"}),e.jsx(z,{color:"primary",size:"small",sx:{bgcolor:t=>o(t.palette.primary.main,.1)},children:e.jsx(T,{})})]}),e.jsx(B,{sx:{mb:3}}),u.length>0?e.jsx(W,{spacing:2,children:u.map((t,i)=>e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1,p:1,borderRadius:1,"&:hover":{bgcolor:y=>o(y.palette.primary.main,.1)}},children:[e.jsx(T,{color:"primary",sx:{fontSize:20}}),e.jsx(r,{variant:"body1",sx:{fontSize:{xs:"0.9rem",sm:"1rem"}},children:t})]},i))}):e.jsx(r,{variant:"body2",color:"text.secondary",children:"No recent locations found"})]})}),e.jsx(a,{item:!0,xs:12,sm:4,sx:{display:"flex"},children:e.jsxs(I,{elevation:2,sx:{p:{xs:2,sm:3},borderRadius:3,height:"100%",width:"100%",bgcolor:t=>t.palette.background.paper,transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:x?"0 12px 20px rgba(0, 0, 0, 0.3)":"0 12px 20px rgba(0, 0, 0, 0.1)"}},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(r,{variant:"h6",sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"Family Members"}),e.jsx(z,{color:"primary",size:"small",sx:{bgcolor:t=>o(t.palette.primary.main,.1)},children:e.jsx(ie,{})})]}),e.jsx(B,{sx:{mb:3}}),e.jsxs(W,{spacing:2,children:[(j==null?void 0:j.familyMembers.length)>0?j.familyMembers.map(t=>e.jsx(X,{variant:"outlined",sx:{borderRadius:2,boxShadow:"none",bgcolor:i=>i.palette.background.paper,transition:"all 0.3s ease","&:hover":{borderColor:"primary.main",bgcolor:i=>o(i.palette.primary.main,.05)}},children:e.jsx(_,{sx:{p:2,"&:last-child":{pb:2}},children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(J,{sx:{width:32,height:32,mr:1,bgcolor:i=>i.palette.primary.main,fontSize:"0.875rem"},children:t.name.charAt(0)}),e.jsx(s,{children:e.jsx(r,{variant:"body1",sx:{fontSize:{xs:"0.9rem",sm:"1rem"}},children:t.name})})]}),e.jsx(z,{size:"small",children:e.jsx(U,{fontSize:"small"})})]})})},t.name)):e.jsx(r,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"No family members found."}),e.jsx(m,{variant:"text",size:"small",sx:{alignSelf:"center",mt:1},children:"Manage Family"})]})]})}),e.jsx(a,{item:!0,xs:12,sm:4,sx:{display:"flex"},children:e.jsxs(I,{elevation:2,sx:{p:{xs:2,sm:3},borderRadius:3,height:"100%",width:"100%",transition:"transform 0.3s ease, box-shadow 0.3s ease",bgcolor:t=>t.palette.background.paper,"&:hover":{transform:"translateY(-5px)",boxShadow:x?"0 12px 20px rgba(0, 0, 0, 0.3)":"0 12px 20px rgba(0, 0, 0, 0.1)"}},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(r,{variant:"h6",sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"Quick Actions"}),e.jsx(z,{color:"primary",size:"small",sx:{bgcolor:t=>o(t.palette.primary.main,.1)},children:e.jsx(R,{})})]}),e.jsx(B,{sx:{mb:3}}),e.jsxs(W,{spacing:2,children:[e.jsx(m,{variant:"outlined",color:"primary",startIcon:e.jsx(R,{}),onClick:w,fullWidth:!0,sx:{justifyContent:"flex-start",py:1.5,borderRadius:2,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:"Create New Memory"}),e.jsx(m,{variant:"outlined",color:"secondary",startIcon:e.jsx(N,{}),onClick:M,fullWidth:!0,sx:{justifyContent:"flex-start",py:1.5,borderRadius:2,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:"Breathing Exercise"}),e.jsx(m,{variant:"outlined",color:"info",startIcon:e.jsx(ge,{}),fullWidth:!0,sx:{justifyContent:"flex-start",py:1.5,borderRadius:2,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:"Family Connections"})]}),g&&e.jsx(s,{sx:{mt:3},children:e.jsx(H,{})})]})})]}),e.jsx(a,{xs:12,sx:{mt:4},children:e.jsxs(I,{elevation:2,sx:{p:{xs:2,sm:3},borderRadius:3,transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:{xs:"none",sm:"translateY(-5px)"},boxShadow:x?"0 12px 20px rgba(0, 0, 0, 0.3)":"0 12px 20px rgba(0, 0, 0, 0.1)"},width:"100%",maxWidth:"100%"},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:0}},children:[e.jsx(r,{variant:"h6",sx:{fontSize:{xs:"1.1rem",sm:"1.25rem"},alignSelf:{xs:"flex-start",sm:"center"}},children:"Recent Memories"}),e.jsx(m,{variant:"outlined",size:"small",endIcon:e.jsx(U,{}),component:Y,to:"/patient/dashboard/timeline",sx:{borderRadius:2,alignSelf:{xs:"flex-end",sm:"center"}},children:"View All"})]}),e.jsx(a,{container:!0,spacing:{xs:2,sm:3},children:(b==null?void 0:b.length)>0?b.slice(0,3).map(t=>e.jsx(a,{xs:12,sm:6,md:4,sx:{display:"flex"},children:e.jsxs(X,{sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column",borderRadius:2,cursor:"pointer",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:i=>`0 8px 16px ${o(i.palette.primary.main,.15)}`}},onClick:()=>A(t.id),children:[t.type==="text"?e.jsxs(s,{sx:{p:3,bgcolor:o("#9c27b0",.05),height:{xs:"120px",sm:"140px"},display:"flex",alignItems:"flex-start",justifyContent:"center",flexDirection:"column",position:"relative",overflow:"hidden"},children:[e.jsx(L,{sx:{fontSize:{xs:24,sm:30},color:o("#9c27b0",.6),mb:2}}),e.jsxs(r,{variant:"body1",color:"text.primary",sx:{fontStyle:"italic",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",fontSize:{xs:"0.875rem",sm:"1rem"}},children:['"',t.content,'"']}),e.jsx(s,{sx:{position:"absolute",top:10,right:10,bgcolor:"rgba(255, 255, 255, 0.8)",borderRadius:"50%",p:.5},children:e.jsx(L,{color:"primary",fontSize:"small"})})]}):e.jsx(xe,{component:"img",image:t.content||Q,alt:t.title||"Memory",sx:{height:{xs:120,sm:140},objectFit:"cover"}}),e.jsxs(_,{sx:{flexGrow:1},children:[e.jsx(r,{variant:"h6",component:"div",gutterBottom:!0,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:t.title||"Untitled Memory"}),e.jsxs(r,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center",mb:1,fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:[e.jsx(ce,{fontSize:"inherit",sx:{mr:.5}}),t.date||"Unknown Date"]}),e.jsx(r,{variant:"body2",color:"text.secondary",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:t.description||"No description available."})]})]})},t.id)):e.jsx(a,{xs:12,children:e.jsx(r,{variant:"body1",color:"text.secondary",sx:{m:2},children:"No memories found."})})})]})})]})})})};export{Ae as default};
